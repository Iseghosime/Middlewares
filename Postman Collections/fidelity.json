{
  "info": {
    "_postman_id": "5c892d03-891b-4562-bdcc-7a7f552eb238",
    "name": "Transfer Service Fidelity Middleware",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "Configure Channel",
      "item": [
        {
          "name": "PUT Channels - Success",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5b2652cb-c0d4-4553-9404-fb1fb33e2232",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "01634eb2-b764-4585-8748-cfe3413572f0",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "var body = JSON.parse(request.data)",
                  "",
                  "var active = body[0].active",
                  "var c_code = body[0].tsChannelCode",
                  "var m_code = body[0].middlewareChannelCode",
                  "",
                  "console.log(c_code)",
                  "console.log(m_code)",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].middlewareChannelCode).to.eql(m_code);",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].active).to.eql(active);",
                  "});",
                  "pm.test(\"TS Channel Code matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].tsChannelCode).to.eql(c_code);",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8804b058-f5f4-4469-8273-42e9b5321958",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\r\n            \"active\": true,\r\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\r\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess}}\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Success Add multiple",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b99a52de-a325-457f-9fa9-5ac8d14f9ed6",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "var tsCode2 =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "const instCode2 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess2\", tsCode2);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess2\", instCode2);",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "517be5c9-9224-4d28-a021-62d10a46fa44",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "var body = JSON.parse(request.data)",
                  "",
                  "var active = body[0].active",
                  "var c_code = body[0].tsChannelCode",
                  "var m_code = body[0].middlewareChannelCode",
                  "",
                  "console.log(c_code)",
                  "console.log(m_code)",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].middlewareChannelCode).to.eql(m_code);",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].active).to.eql(active);",
                  "});",
                  "pm.test(\"TS Channel Code matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].tsChannelCode).to.eql(c_code);",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "efb7c72e-13a6-458e-bd5d-3a8dbc898afe",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess}}\"\n        },\n               {\n            \"active\": false,\n            \"tsChannelCode\": \"{{tsCodeSuccess2}}\",\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess2}}\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels  - Success with activity set to false",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "2578de40-3396-4381-be7c-7e5e08066d25",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "//var tsCode2 =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "//const instCode2 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "//postman.setEnvironmentVariable(\"tsCodeSuccess2\", tsCode2);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "//postman.setEnvironmentVariable(\"middChannelCodeSuccess2\", instCode2);",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "122ab0df-5ad9-4ca8-aad2-95c0e23a2b6e",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var data = jsonData.data[0];",
                  "var active = data.active;",
                  "var tsChannelCode = data.tsChannelCode;",
                  "var middlewareChannelCode = data.middlewareChannelCode;",
                  "var id = data.id;",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 00\", function () {",
                  "    pm.expect(responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message is Transaction successful\", function () {",
                  "    pm.expect(responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "",
                  "",
                  "// active returned matches what was sent",
                  "pm.test(\"Active Status matches what was sent\", function () {",
                  "    pm.expect(active).to.eql(active);",
                  "});",
                  "",
                  "console.log(tsChannelCode);",
                  "//tsChannelCode returned matches what was sent",
                  "pm.test(\"TS Channel Code matches what was sent\", function () {",
                  "    pm.expect(tsChannelCode).to.eql(tsChannelCodeRequest);",
                  "});",
                  "",
                  "//middlewareChannelCode returned matches what was sent",
                  "pm.test(\"Middleware Channel Code matches what was sent\", function () {",
                  "    pm.expect(middlewareChannelCodeRequest).to.eql(middlewareChannelCodeRequest);",
                  "});",
                  "//id is not null",
                  "pm.test(\"ID should be generated by the Middleware\", function () {",
                  "    pm.expect(id).to.not.be.null;",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be success\", function () {",
                  "    pm.expect(action).to.eql(\"SUCCESS\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a9d1a587-37a7-490d-8803-a7649a23eef8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n\t\"active\" : false,\r\n\t\"tsChannelCode\" : \"{{tsCodeSuccess}}\",\r\n\t\"middlewareChannelCode\" : \"{{middChannelCodeSuccess}}\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Duplicate Channel Code",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c5977b24-a613-417f-a8c8-8bda6fb3fd0b",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message is 'Duplicate mapping for tsChannelCode 891 detected. Please review'\", function () {",
                  "    pm.expect(responseMessage).to.eql(\"Duplicate mapping for tsChannelCode 891 detected. Please review\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e3ea1cf3-dbd7-462c-b022-b15fbe61ae8d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9d3a0022-d461-4f9a-a689-a3e724c4f09c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n\t\"active\" : false,\r\n\t\"tsChannelCode\" : \"891\",\r\n\t\"middlewareChannelCode\" : \"222\"\r\n},\r\n{\r\n\t\"active\" : true,\r\n\t\"tsChannelCode\" : \"121\",\r\n\t\"middlewareChannelCode\" : \"9\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Empty TS Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "da00737d-ca2e-43d6-b5b4-5b23e3ad404f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "postman.setEnvironmentVariable(\"tsChannelCode\", generateChannelCode(3))",
                  "postman.setEnvironmentVariable(\"middlewareChannelCode\", generateChannelCode(3))",
                  "",
                  "",
                  "function generateChannelCode(length) {",
                  "    var chars = '0123456789',",
                  "    result=\"\"",
                  "    for (var i = length; i > 0; --i)",
                  "    result += chars[Math.round(Math.random() * (chars.length - 1))]",
                  "    return result;",
                  "}",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b2faafde-768f-4fec-909f-9b9494dad666",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response Message - tsChannelCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"tsChannelCode: must not be blank\",\"Please review tsChannelCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b91f827e-4158-472c-955a-d7e20b6f2c6a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"active\" : true,\r\n\t\"tsChannelCode\" : \"\",\r\n\t\"middlewareChannelCode\" : \"240\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - TS Channel Code Above Max Length",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6b5dae47-4574-4f17-be22-32710b50dc07",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "709bb2b7-48ac-4783-b13a-e376d1f40470",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "pm.test(\"Response message: tsChannelCode: size must be between 0 and 10\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"tsChannelCode: size must be between 0 and 10\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0e21c333-5187-4602-8d81-4c17383a9120",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"125678998901\",\n            \"middlewareChannelCode\": \"399\"\n}\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Special xters for TS Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "eadd5382-63e9-4a72-af91-738045f7ca27",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "postman.setEnvironmentVariable(\"tsChannelCode\", generateChannelCode(3))",
                  "postman.setEnvironmentVariable(\"middlewareChannelCode\", generateChannelCode(3))",
                  "",
                  "",
                  "function generateChannelCode(length) {",
                  "    var chars = '0123456789',",
                  "    result=\"\"",
                  "    for (var i = length; i > 0; --i)",
                  "    result += chars[Math.round(Math.random() * (chars.length - 1))]",
                  "    return result;",
                  "}",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6ddc0296-2f63-4730-8eee-91af50a7faab",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message: Please review tsChannelCode for null, non alphanumeric and extra whitespaces\", function () {",
                  "    pm.expect(responseMessage).to.include(\"Please review tsChannelCode for null, non alphanumeric and extra whitespaces\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "bbaa65a6-2215-44ce-b1a5-68158b909ee7",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"active\" : true,\r\n\t\"tsChannelCode\" : \"-//**()*\",\r\n\t\"middlewareChannelCode\" : \"240\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Invalid parameter for Active key",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "92568c72-dc0c-42ff-b062-3b97c427b82b",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "77b42e79-f2ec-4038-bb60-a8d9f138ec84",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Non valid field value found in active. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in active. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a05203cb-b475-4778-a396-683b42099119",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": \"just\",\n            \"tsChannelCode\": \"9112\",\n            \"middlewareChannelCode\": \"399\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Empty Active Status",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4e06ccce-6e81-4f4b-9d43-750495921b43",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message: Non valid field value found in active. Please review'\", function () {",
                  "    pm.expect(responseMessage).to.eql(\"Non valid field value found in active. Please review\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "3b9fd37f-3117-42cb-bf11-2cb3bb4d98e1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7c18b0b0-6ed6-4ff7-b076-bf3672ec8557",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"active\" : \"\",\r\n\t\"tsChannelCode\" : 12800,\r\n\t\"middlewareChannelCode\" : \"92\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels -Middleware Channel Code Above Max Length",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "fc5b6989-f2f1-44b4-87b6-cd1511ef8edf",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f6c98b8d-361f-49cb-b0e7-5466748d800d",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Resonse Message: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"middlewareChannelCode: size must be between 0 and 10\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f5be81b7-9b2d-4930-b7ff-1986c627bc94",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"1890111\",\n            \"middlewareChannelCode\": \"9087364623109\"\n}\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Empty Middleware Channel Code",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e743f0fc-4501-4ef3-b814-f6897b795c91",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "var expect = require('chai').expect",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message: Middleware Channel Code should not be blank or null\", function () {",
                  "  expect(['middlewareChannelCode: must not be blank', 'Please review middlewareChannelCode for null, non alphanumeric and extra whitespaces']).includes(responseMessage.trim());",
                  "  ",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c0f369fe-33ad-4efa-9ef2-1697d792387d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a18d5dcc-77b4-4bea-a3e3-b7edc61fadf1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"active\" : true,\r\n\t\"tsChannelCode\" : \"000\",\r\n\t\"middlewareChannelCode\" : \"\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Special xters for Middleware Channel Code",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d1881355-58ef-49a9-abfa-3b74c94691a5",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var active = data.active;",
                  "",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    pm.expect(responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message: \", function () {",
                  "    pm.expect(responseMessage.trim()).to.eql(\"Please review middlewareChannelCode for null, non alphanumeric and extra whitespaces\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be Failure\", function () {",
                  "    pm.expect(action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c4050620-90ba-4fe7-b2f1-aa3f36126f95",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "aa73379c-33b2-415d-83ae-75802444f61a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"active\" : true,\r\n\t\"tsChannelCode\" : \"0002\",\r\n\t\"middlewareChannelCode\" : \"-+===£\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels  - Empty value for ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "a3bf05dc-8704-40dd-9375-32899b71c93e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "//var tsCode2 =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "//const instCode2 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "//postman.setEnvironmentVariable(\"tsCodeSuccess2\", tsCode2);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "//postman.setEnvironmentVariable(\"middChannelCodeSuccess2\", instCode2);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "fa5d0e22-3532-499d-ac55-5a2084d0535a",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var data = jsonData.data[0];",
                  "var active = data.active;",
                  "var tsChannelCode = data.tsChannelCode;",
                  "var middlewareChannelCode = data.middlewareChannelCode;",
                  "var id = data.id;",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 00\", function () {",
                  "    pm.expect(responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response message is Transaction successful\", function () {",
                  "    pm.expect(responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "",
                  "",
                  "// active returned matches what was sent",
                  "pm.test(\"Active Status matches what was sent\", function () {",
                  "    pm.expect(active).to.eql(active);",
                  "});",
                  "",
                  "console.log(tsChannelCode);",
                  "//tsChannelCode returned matches what was sent",
                  "pm.test(\"TS Channel Code matches what was sent\", function () {",
                  "    pm.expect(tsChannelCode).to.eql(tsChannelCodeRequest);",
                  "});",
                  "",
                  "//middlewareChannelCode returned matches what was sent",
                  "pm.test(\"Middleware Channel Code matches what was sent\", function () {",
                  "    pm.expect(middlewareChannelCodeRequest).to.eql(middlewareChannelCodeRequest);",
                  "});",
                  "//id is not null",
                  "pm.test(\"ID should be generated by the Middleware\", function () {",
                  "    pm.expect(id).to.not.be.null;",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action should be success\", function () {",
                  "    pm.expect(action).to.eql(\"SUCCESS\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ebb96e3e-2c11-47a5-b668-758494a712cd",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n        {\r\n            \"id\": \"\",\r\n            \"active\": true,\r\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\r\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess}}\"\r\n        }\r\n    ]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - String as TS Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "2a28fc46-7a0f-4e0e-86b1-05dff29b9178",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "var tscode = Math.floor((Math.random() * 1000) + 1);",
                  "pm.environment.set(\"tsCodeSuccess\", \"frank\"+tscode);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7ecb77c0-5a55-4458-9484-dd157b1a331f",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "var body = JSON.parse(request.data)",
                  "",
                  "var active = body[0].active",
                  "var c_code = body[0].tsChannelCode",
                  "var m_code = body[0].middlewareChannelCode",
                  "",
                  "console.log(c_code)",
                  "console.log(m_code)",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].middlewareChannelCode).to.eql(m_code);",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].active).to.eql(active);",
                  "});",
                  "pm.test(\"TS Channel Code matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].tsChannelCode).to.eql(c_code);",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1a8a9841-0423-4643-95c0-e7a04f592ad2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - String as M.Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "2c29e198-9ded-449a-927e-8c80d4ada5be",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "var tscode = Math.floor((Math.random() * 1000) + 1);",
                  "var instCode1 = Math.floor((Math.random() * 1000) + 1);",
                  "pm.environment.set(\"tsCodeSuccess\", \"john\"+tscode);",
                  "pm.environment.set(\"middChannelCodeSuccess\", \"sell\"+tscode);",
                  "",
                  "",
                  "/*const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "*/",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9e045b2c-3796-49e5-9da6-c2f4b1d58728",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "var body = JSON.parse(request.data)",
                  "",
                  "var active = body[0].active",
                  "var c_code = body[0].tsChannelCode",
                  "var m_code = body[0].middlewareChannelCode",
                  "",
                  "console.log(c_code)",
                  "console.log(m_code)",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].middlewareChannelCode).to.eql(m_code);",
                  "});",
                  "pm.test(\"Active Status matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].active).to.eql(active);",
                  "});",
                  "pm.test(\"TS Channel Code matches request\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].tsChannelCode).to.eql(c_code);",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "758ff202-1603-4bf3-8a95-6043092e9a31",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess}}\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels  - String data type for ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "749cfefe-3dab-495c-aa80-d584db6b2196",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6367a34b-b122-4060-b684-8852b5e6c2e7",
                "exec": [
                  "var body = JSON.parse(responseBody)",
                  "var msg = body.responseMessage;",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test response message",
                  "pm.test(\"Response message: \"+msg, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(msg);",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3dc0f722-91b4-478a-a6da-f73a3e91bfbe",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n        {\r\n            \"id\": \"jgjgj\",\r\n            \"active\": true,\r\n            \"tsChannelCode\": \"74875\",\r\n            \"middlewareChannelCode\": \"37822\"\r\n        }\r\n    ]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels  - Decimal data type for ID",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "1edd6b64-4035-4c18-b5ed-ba02158d7aa9",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e05ccc0a-f3bc-4abb-9d17-991e67809a33",
                "exec": [
                  "var body = JSON.parse(responseBody)",
                  "var msg = body.responseMessage;",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "//test response message",
                  "pm.test(\"Response message: \"+msg, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "719822a9-6f28-43d1-b804-ce082d95010a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n        {\r\n            \"id\": 37.90,\r\n            \"active\": true,\r\n            \"tsChannelCode\": \"{{tsCodeSuccess}}\",\r\n            \"middlewareChannelCode\": \"{{middChannelCodeSuccess}}\"\r\n        }\r\n    ]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "PUT Channels - Active Parameter not in request",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6a655337-b81c-44ea-ba6c-05ceb6c38a61",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var activeRequest = body[0].active;",
                  "var jsonData = JSON.parse(responseBody);",
                  "var tsChannelCodeRequest  = body[0].tsChannelCode; ",
                  "var middlewareChannelCodeRequest  = body.middlewareChannelCode; ",
                  "var responseCode = jsonData.responseCode;",
                  "var responseMessage = jsonData.responseMessage;",
                  "var action = jsonData.action;",
                  "var data = jsonData.data[0];",
                  "var active = data.active;",
                  "var tsChannelCode = data.tsChannelCode;",
                  "var middlewareChannelCode = data.middlewareChannelCode;",
                  "var id = data.id;",
                  "",
                  "",
                  "",
                  "//test status code",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//test response message",
                  "pm.test(\"Response Code is 00\", function () {",
                  "    pm.expect(responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "",
                  "// active returned matches what was sent",
                  "pm.test(\"Active Status is true\", function () {",
                  "    pm.expect(active).to.eql(true);",
                  "});",
                  "",
                  "//tsChannelCode returned matches what was sent",
                  "pm.test(\"TS Channel Code matches what was sent\", function () {",
                  "    pm.expect(tsChannelCode).to.eql(\"\"+tsChannelCodeRequest+\"\");",
                  "});",
                  "",
                  "//middlewareChannelCode returned matches what was sent",
                  "pm.test(\"Middleware Channel Code matches what was sent\", function () {",
                  "    pm.expect(middlewareChannelCodeRequest).to.eql(middlewareChannelCodeRequest);",
                  "});",
                  "",
                  "",
                  "",
                  "pm.test(\"Action should be success\", function () {",
                  "    pm.expect(action).to.eql(\"SUCCESS\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "50ce5ae4-0d84-4a0c-ad52-3cdb51f9c29c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "06f1e14f-3d98-4f0c-902f-699e9e78fed0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"tsChannelCode\" : \"{{tsCodeSuccess}}\",\r\n\t\"middlewareChannelCode\" : \"{{middChannelCodeSuccess}}\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "GET Channel code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ba58d50f-ea04-4fe5-ab50-8c46d0688a4f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b4ca3386-cc14-48a1-858d-e74d82b86cc0",
                "exec": [
                  "var expect = require('chai').expect;",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "pm.test(\"Data is not empty\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    expect(jsonData.data).to.not.be.empty;",
                  "});",
                  "pm.test(\"ID's are present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"id\");",
                  "});",
                  "pm.test(\"Creation Date is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"createDate\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3b6a7d19-aa89-4b7d-ae06-94d4a5635c88",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        }
      ],
      "_postman_id": "9cd5fb51-c576-459d-8560-cfd951d3e2b1"
    },
    {
      "name": "Configure Queue",
      "item": [
        {
          "name": "Configure Queue - Success",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e6f55221-ec9e-4ab2-941a-30d6333ca7e7",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1e1c48df-a927-4abd-a627-fb03cc667a6f",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var hello = JSON.parse(responseBody)",
                  "",
                  "var count = body.maxRetryCount",
                  "var seconds = body.retryIntervalSeconds",
                  "var intervals = body.indefiniteRequeryIntervalSecs",
                  "var limit = body.maxRequeryTimeLimit",
                  "",
                  "var max = hello.data[0].maxRetryCount;",
                  "",
                  "console.log(max)",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"maxRetryCount matches request\", function () {",
                  "    pm.expect(hello.data[0].maxRetryCount).to.eql(count);",
                  "});",
                  "pm.test(\"retryIntervalSeconds matches request\", function () {",
                  "    pm.expect(hello.data[0].retryIntervalSeconds).to.eql(seconds);",
                  "});",
                  "pm.test(\"maxRequeryTimeLimit matches request\", function () {",
                  "    pm.expect(hello.data[0].maxRequeryTimeLimit).to.eql(limit);",
                  "});",
                  "pm.test(\"indefiniteRequeryIntervalSecs matches request\", function () {",
                  "    pm.expect(hello.data[0].indefiniteRequeryIntervalSecs).to.eql(intervals);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Message : Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Response Code : 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Action : SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2b07ac85-9787-473f-8780-86579ddcc229",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 30,\r\n \"maxRetryCount\" : 10,\r\n \"indefiniteRequeryIntervalSecs\": 180,\r\n \"maxRequeryTimeLimit\": \"02:00\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue",
            "description": "As a system i want to be able to configure core properties of the middle-ware so that the middleware queue configuration and security can be set"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Space as value for  retryIntervalSeconds",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "2b1b9602-e4b8-4663-ab94-85d1e1010a81",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "401ee24b-4eec-485c-aecd-e37e521ef8b6",
                "exec": [
                  "pm.test(\"Status code is 401\", function() {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Request failed security validation. Please check the data types sent match the documentation.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b91410de-6b66-42e6-8077-0f578a22824f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : \" \",\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - String value for  retryIntervalSeconds",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ff0a2321-f9f8-4513-ba0b-acedb9330936",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b05243a5-af37-4107-ae7b-e05c12940162",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Non valid field value found in retryIntervalSeconds. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in retryIntervalSeconds. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3227929e-8548-4841-bfdb-00dc20fbddb8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : \"mind\",\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Minus value for  retryIntervalSeconds",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b93598ca-5469-4844-ad4f-c4aa61217929",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a26a8661-37eb-4e2d-a95e-55dfd70a021d",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: retryIntervalSeconds: must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"retryIntervalSeconds: must be greater than or equal to 1\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "277bdc74-bb27-4d0d-9bd0-320e6146a07a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : -999,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - retryIntervalSeconds below 1",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "947e1cc3-42e1-48b1-b3b4-474c378fbffd",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "21743d34-ad87-432a-a107-5cf7c0ef9772",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: retryIntervalSeconds: must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"retryIntervalSeconds: must be greater than or equal to 1\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "64b590e3-a76b-4922-b24c-6fedcc010948",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 0,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Empty Retry Interval seconds",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b83ef0fc-b1c0-4c69-899e-fffb7464ec4b",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3db7479a-5504-4eea-8c64-71241b47f4d0",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - retryIntervalSeconds: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage.trim()).to.include(\"retryIntervalSeconds: must not be null\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fe6b1975-ced3-4696-8e9c-a1e0725c3d32",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : \"\",\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Minus value for Max Retry Count ",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "59cf3046-6a9f-4a32-b9ed-bedbed9fefa9",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "38719817-616b-4568-ba32-b6f8b5ee1905",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: maxRetryCount: must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"maxRetryCount: must be greater than or equal to 1\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8dde9638-07f0-4baa-a3bf-7260004c5d00",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 5,\r\n \"maxRetryCount\" : -6,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - String input for Max Retry",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4c2b1d52-8643-4ce0-bf73-bb8349ce6330",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ebd00f86-9987-4eaf-b35c-ddf6d5bc44d6",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Non valid field value found in maxRetryCount. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in maxRetryCount. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "60732ba8-65a5-4274-81eb-f880c4974aa3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 10000,\r\n \"maxRetryCount\" : \"dance\",\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Space as value for  maxRetryCount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5318b727-9fae-49ec-ba7b-bd9e901f6928",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "755dd80c-7436-472c-bb72-38ce29ff6ebf",
                "exec": [
                  "pm.test(\"Status code is 401\", function() {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Request failed security validation. Please check the data types sent match the documentation.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ab3eb059-5c12-4c10-9b18-ae10c4cc3d0b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : \" \",\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Max Retry is Null",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b3174e49-ec4d-4045-a824-1e3c196b1013",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "cbed0b01-cb46-4386-95ed-080a0e8146ee",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: maxRetryCount: must not be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"maxRetryCount: must not be null\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2ae9ddf8-05c1-4f0e-b248-8817feabff58",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 10000,\r\n \"maxRetryCount\" : \"\",\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Max Retry Count of 0",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "75cbb67f-e4ce-4128-94f4-b4a0ed61f4c6",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b7d776ae-152e-4284-b314-54ed3e019750",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: maxRetryCount: must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"maxRetryCount: must be greater than or equal to 1\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7e87a9a1-ccdc-40d4-8f23-13bfc9bfa8ec",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 10000,\r\n \"maxRetryCount\" : 0,\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue",
            "description": "As a system i want to be able to configure core properties of the middle-ware so that the middleware queue configuration and security can be set"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Special Xters for Max Retry Count",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f7fc0c69-57e5-474e-a4eb-23c37cb5dc5d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "c1adcb08-4efb-4d53-be45-857a0519ecfa",
                "exec": [
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: maxRetryCount: must not be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in maxRetryCount. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fb948925-064c-4a06-92eb-5332dd721fd9",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 10000,\r\n \"maxRetryCount\" : \"a£$%ASD\",\r\n \"indefiniteRequeryIntervalSecs\": 2000,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Empty value indefiniteRequeryIntervalSecs",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "171dbc36-4ba6-40c4-92be-e20f29dac1d5",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a31dec10-b4e0-4527-9542-2fdd397b83a3",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - indefiniteRequeryIntervalSecs: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage.trim()).to.include(\"indefiniteRequeryIntervalSecs: must not be null\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "dade0312-f2a3-4c2a-9bc9-8d567720f6c6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": \"\",\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set value for indefiniteRequeryIntervalSecs as 0",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ae8e0b19-514c-4706-880e-faaf2aac0216",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8d1d1cfc-469e-4c6c-905c-ac78d119ae24",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message:  must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"indefiniteRequeryIntervalSecs: must be greater than or equal to 1\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8b6f2a2d-b638-442d-b56e-c5c1bcfc22de",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 0,\r\n \"maxRequeryTimeLimit\": \"00:00\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set minus value for indefiniteRequeryIntervalSecs",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6e938134-3b4e-419d-bca8-d3155d58cd0e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "73686c05-da60-4191-ac5d-2b0ff912e4bc",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message:  must be greater than or equal to 1\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"indefiniteRequeryIntervalSecs: must be greater than or equal to 1\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f3c21d74-1dbb-49d1-a732-e7f44cf689c4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": -909,\r\n \"maxRequeryTimeLimit\": \"00:00\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set value for Requery Interval above possible max value",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "eabb9601-f35f-4260-900a-7badc1a91bc4",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "62cb6437-280f-4d37-a1e6-1cf295320862",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: indefiniteRequeryIntervalSecs: must be less than or equal to 3600\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"indefiniteRequeryIntervalSecs: must be less than or equal to 3600\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9b93852b-5cad-43cf-ad09-94e0eb398d39",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 10000,\r\n \"maxRetryCount\" : \"9\",\r\n \"indefiniteRequeryIntervalSecs\": 3722,\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue",
            "description": "As a system i want to be able to configure core properties of the middle-ware so that the middleware queue configuration and security can be set"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set String for indefiniteRequeryIntervalSecs",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "0a616a72-26c3-4756-80fd-7fabdb2be4e7",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "def87367-a66c-4ea8-ae1d-a6c2f850fcf7",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Non valid field value found in indefiniteRequeryIntervalSecs. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in indefiniteRequeryIntervalSecs. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fe567455-031e-4e7c-8f6f-1f211f61af2f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": \"adad\",\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Space as value for  indefiniteRequeryIntervalSecs",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d195d5aa-ed8b-4564-a3d3-76eac778eb31",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1543b4ef-111b-4d4f-bd2b-1407404599dc",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - indefiniteRequeryIntervalSecs: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage.trim()).to.include(\"indefiniteRequeryIntervalSecs: must not be null\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "16c270dc-b367-40b6-b40d-913411f3689d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 8,\r\n \"indefiniteRequeryIntervalSecs\": \" \",\r\n \"maxRequeryTimeLimit\": \"23:40\"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set String for REqueryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3d83e13b-5456-432f-8c79-699b74345327",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "bdbb088c-73dd-4b45-a407-f8a1c028a367",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Bad maximum query time limit '\"+limit+\"' detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Bad maximum query time limit '\"+limit+\"' detected. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e2a456dc-1633-4560-9dbc-592e42aad44f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 1800,\r\n \"maxRequeryTimeLimit\": \"kjkkj\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set Seconds for REqueryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "fba1a836-589c-4eca-940b-de600b4f5823",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1147e69c-6954-45c6-a46c-a87c66ff3133",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Bad maximum query time limit '\"+limit+\"' detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Bad maximum query time limit '\"+limit+\"' detected. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "eef1d11b-8d22-40a5-a508-a343881aa14b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 1800,\r\n \"maxRequeryTimeLimit\": \"23:59:40\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set Only hour for RequeryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8fd8d255-8fa4-4bab-bf48-1f9ea77cb98b",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7a1fe310-3e01-470c-a02a-77a7f5853258",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Bad maximum query time limit '\"+limit+\"' detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Bad maximum query time limit '\"+limit+\"' detected. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "404314f3-16fe-4df9-8df0-0ef3ad71a0cb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 1800,\r\n \"maxRequeryTimeLimit\": \"23\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Empty  RequeryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b9608fa1-0f52-4ae6-b930-cd9e101c9557",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "157533f4-00d8-4381-a8b0-ef06af7a40e5",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - maxRequeryTimeLimit: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"maxRequeryTimeLimit: must not be blank\",\"Please review maxRequeryTimeLimit for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ad490dfb-7acb-4f27-993c-9a12a763c364",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 1800,\r\n \"maxRequeryTimeLimit\": \" \"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Invalid Format for RequeryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "9d3de7b8-935a-46e9-8d62-1e795432ec90",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "2bb7fb48-f85e-454b-82bb-4516575109bc",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Bad maximum query time limit '\"+limit+\"' detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Bad maximum query time limit '\"+limit+\"' detected. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9f6d4392-2cad-41a5-98bf-ea081e1b6d6d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 6,\r\n \"indefiniteRequeryIntervalSecs\": 1800,\r\n \"maxRequeryTimeLimit\": \"2340\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue",
            "description": "Without the colon"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Space as value for  maxRequeryTimeLimit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5f83a167-c396-4305-809e-ee2969a656b6",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ef05deb5-56cd-4746-8844-51cdba59ef63",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - maxRequeryTimeLimit: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"maxRequeryTimeLimit: must not be blank\",\"Please review maxRequeryTimeLimit for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7462c8aa-df91-4f87-947c-bc6620bb9274",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 9,\r\n \"maxRetryCount\" : 8,\r\n \"indefiniteRequeryIntervalSecs\": 3599,\r\n \"maxRequeryTimeLimit\": \" \"\r\n}\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        },
        {
          "name": "Configure Queue - Set max requery limit above maximum standard time limit",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d017b457-0235-4276-804f-5e159811e63a",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var maxRetryCount = requestBody.maxRetryCount;",
                  "var retryPeriodSecs = requestBody.retryIntervalSeconds;",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce  + maxRetryCount + retryPeriodSecs;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a3bff32f-8eb6-45f1-8d26-7f81d41256bb",
                "exec": [
                  "",
                  " var body = JSON.parse(request.data)",
                  " ",
                  " var limit = body.maxRequeryTimeLimit;",
                  " ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30 (Bad Request)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Action: FAILURE)\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "pm.test(\"Response Message: Bad maximum query time limit '\"+limit+\"' detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Bad maximum query time limit '\"+limit+\"' detected. Please review\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9ea6b378-85b9-4980-a922-c8c6614161fb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n \"retryIntervalSeconds\" : 30,\r\n \"maxRetryCount\" : 5,\r\n \"indefiniteRequeryIntervalSecs\": 3600,\r\n \"maxRequeryTimeLimit\": \"30:30\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        }
      ],
      "_postman_id": "d1ef1e12-8f04-4ce5-ae6e-91b87906a9bb"
    },
    {
      "name": "Get Queue Configuration",
      "item": [
        {
          "name": "Get Queue Configuration - Success",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "c6473dcc-9635-4f03-a932-07b9c6555e7c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a3ae2c05-7a15-4947-85bd-0a171be3a57a",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Response Message - Transcation Successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Data is popluated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var test = jsonData.data;",
                  "    expect(test).to.not.be.empty;",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5f687572-b02b-47e1-bd36-0e35359e754f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/configuration/queue"
          },
          "response": []
        }
      ],
      "_postman_id": "dd853be4-16c5-4f87-8c33-6cce0bbd6eb9",
      "description": "As a system i want to be able to create an endpoint that can be called to return the configured properties so that it can be used for system configuration"
    },
    {
      "name": "Configure Response Code",
      "item": [
        {
          "name": "Configure Response Code - Success",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b35cca7a-a443-4379-b042-b2b5a9ab1a7a",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "c0bae00f-1446-4d00-9508-a856aa6f9672",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "var active = body[0].active;",
                  "var credit = body[0].creditAction",
                  "var debit = body[0].debitAction;",
                  "var requery = body[0].requeryAction",
                  "var tsResponseCode = body[0].tsResponseCode;",
                  "var institutionResponseCode = body[0].institutionResponseCode",
                  "",
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Response Message - Transcation Successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Data is popluated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var test = jsonData.data;",
                  "    expect(test).to.not.be.empty;",
                  "});",
                  "pm.test(\"Response Code is created appropriately\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data[0].active).to.eql(active);",
                  "    pm.expect(jsonData.data[0].creditAction).to.eql(credit);",
                  "    pm.expect(jsonData.data[0].debitAction).to.eql(debit);",
                  "    pm.expect(jsonData.data[0].requeryAction).to.eql(requery);",
                  "    pm.expect(jsonData.data[0].tsResponseCode).to.eql(tsResponseCode);",
                  "    pm.expect(jsonData.data[0].institutionResponseCode).to.eql(institutionResponseCode);",
                  "});",
                  "",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e4f6cdd2-fc48-4bc6-93f4-7788867b2407",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n        {\r\n            \"id\": 2,\r\n            \"createDate\": \"2020-01-30T09:09:16.230+0000\",\r\n            \"active\": true,\r\n            \"creditAction\": \"SUCCESS\",\r\n            \"debitAction\": \"SUCCESS\",\r\n            \"requeryAction\": \"SUCCESS\",\r\n            \"tsResponseCode\": \"00\",\r\n            \"institutionResponseCode\": \"00\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Duplicate Institution Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d7e3a4f1-f4c8-4d42-a094-630166da8131",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4c028b14-84e9-4034-bba5-d28f9256086f",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Duplicate institution response code\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Duplicate institution response code\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "843d73b0-2fef-43e2-844d-f66b2f657860",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[ {\r\n\r\n\t\"creditAction\" : \"FAILURE\",\r\n\t\"debitAction\" : \"FAILURE\",\r\n\t\"requeryAction\" : \"FAILURE\",\r\n\t\"tsResponseCode\" : \"99\",\r\n\t\"institutionResponseCode\" : \"99\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Empty Institution Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "519e7f66-72c7-4028-9e4d-9816f7a414e9",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9cfbafca-c46b-400a-8232-e7bcaea5e5d4",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "//test the action",
                  "pm.test(\"Response Message - institutionResponseCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"institutionResponseCode: must not be blank\",\"Please review institutionResponseCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "888b62c4-9784-4022-b195-6ba81c4228ad",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"id\" : 1,\r\n\t\"creditAction\" : \"SUCCESS\",\r\n\t\"debitAction\" : \"SUCCESS\",\r\n\t\"requeryAction\" : \"SUCCESS\",\r\n\t\"tsResponseCode\" : \"00\",\r\n\t\"institutionResponseCode\" : \"00\"\r\n}, {\r\n\t\"id\" : 2,\r\n\t\"creditAction\" : \"FAILURE\",\r\n\t\"debitAction\" : \"FAILURE\",\r\n\t\"requeryAction\" : \"FAILURE\",\r\n\t\"tsResponseCode\" : \"99\",\r\n\t\"institutionResponseCode\" : \"99\"\r\n},{\r\n\t\"id\" : 3,\r\n\t\"creditAction\" : \"FAILURE\",\r\n\t\"debitAction\" : \"FAILURE\",\r\n\t\"requeryAction\" : \"FAILURE\",\r\n\t\"tsResponseCode\" : \"98\",\r\n\t\"institutionResponseCode\" : \"\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Empty TS Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "699dfd95-8b6d-4ee0-a528-9fd15d548acd",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "0aa95e85-8f5d-4c25-961b-ee8c2067601b",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - tsResponseCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"tsResponseCode: must not be blank\",\"Please review tsResponseCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "108843f7-fa39-4472-8e26-67275c5d14b1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\t\"id\" : 1,\r\n\t\"creditAction\" : \"SUCCESS\",\r\n\t\"debitAction\" : \"SUCCESS\",\r\n\t\"requeryAction\" : \"SUCCESS\",\r\n\t\"tsResponseCode\" : \"00\",\r\n\t\"institutionResponseCode\" : \"00\"\r\n}, {\r\n\t\"id\" : 2,\r\n\t\"creditAction\" : \"FAILURE\",\r\n\t\"debitAction\" : \"FAILURE\",\r\n\t\"requeryAction\" : \"FAILURE\",\r\n\t\"tsResponseCode\" : \"99\",\r\n\t\"institutionResponseCode\" : \"99\"\r\n},{\r\n\t\"id\" : 3,\r\n\t\"creditAction\" : \"FAILURE\",\r\n\t\"debitAction\" : \"FAILURE\",\r\n\t\"requeryAction\" : \"FAILURE\",\r\n\t\"tsResponseCode\" : \"\",\r\n\t\"institutionResponseCode\" : \"98\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Group multiple TSresponse code  to 1 Institution code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b68f7578-41ee-4fb1-bbf4-44ddbad0e864",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "var tsCode1 =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess1\", tsCode1);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e0c66188-7877-4ea2-bbd2-c721d4e675fe",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: Duplicate institution response code 203 detected. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Duplicate institution response code 203 detected. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "738eda45-de1c-48c6-aeac-1957be0a6510",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n{\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"{{tsCodeSuccess}}\",\r\n \"institutionResponseCode\" : \"203\"\r\n},\r\n{\r\n \"creditAction\" : \"FAILURE\",\r\n \"debitAction\" : \"FAILURE\",\r\n \"requeryAction\" : \"FAILURE\",\r\n \"tsResponseCode\" : \"{{tsCodeSuccess}}\",\r\n \"institutionResponseCode\" : \"203\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Group multiple Institution code  to 1 TS code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "dc97f83d-0090-4bc1-b728-5c404dd864a7",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "const instCode2 =Math.floor(Math.random() * (max + min));",
                  "const instCode3 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess2\", instCode2);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess3\", instCode3);",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "1685ed53-232d-4d01-a858-ee97464e462e",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Response Message - Transcation Successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Data is popluated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var test = jsonData.data;",
                  "    expect(test).to.not.be.empty;",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d09eb9f4-75d5-4b15-8e2e-9029420be950",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n{\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"{{tsCodeSuccess}}\",\r\n \"institutionResponseCode\" : \"{{middChannelCodeSuccess}}\"\r\n},\r\n{\r\n\r\n \"creditAction\" : \"FAILURE\",\r\n \"debitAction\" : \"FAILURE\",\r\n \"requeryAction\" : \"FAILURE\",\r\n \"tsResponseCode\" : \"{{tsCodeSuccess}}\",\r\n \"institutionResponseCode\" : \"{{middChannelCodeSuccess2}}\"\r\n},\r\n{\r\n \"creditAction\" : \"REQUERY\",\r\n \"debitAction\" : \"REQUERY\",\r\n \"requeryAction\" : \"REQUERY\",\r\n \"tsResponseCode\" : \"{{tsCodeSuccess}}\",\r\n \"institutionResponseCode\" : \"{{middChannelCodeSuccess3}}\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code- Empty Credit Action",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4e4f1316-c070-4ca1-8603-e47a3eb0c1fe",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "69002c06-d048-484d-aa4d-2e5eb89ec10f",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in creditAction. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in creditAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5a1e3527-279f-4c7f-ad0e-cf4cb00eb650",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n \"creditAction\" : \"\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"201\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code- Empty Debit Action",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8b060291-8b05-46f6-a048-5f417f588fea",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ebf2711c-c65b-44a6-baec-d84e352ea193",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in debitAction. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in debitAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5e30178f-93d2-4c99-b464-ddaf33466d20",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"201\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code- Empty REQUERY Action",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "c551aa45-cced-4ad9-b8fb-8533a6b4317d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a114f3dd-1e59-4dc1-9017-fdc5e4dc5111",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in requeryAction. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in requeryAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d723478f-82ec-4e24-a52d-915345d9723d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"\",\r\n \"tsResponseCode\" : \"092\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code- Empty institutionResponseCode Action",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "87d1f177-38d4-47d0-b836-772268bbb45f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "53722d5d-cab8-4647-a6b1-2583474ca756",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - institutionResponseCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"institutionResponseCode: must not be blank\",\"Please review institutionResponseCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ad895b2d-f6da-439c-bc82-1b2b8e3a6ff1",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"09\",\r\n \"institutionResponseCode\" : \"\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code- Empty TS ResponseCode Action",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ed40dbe2-1e70-49b8-a3f2-aba8f16d4645",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4d8912f8-619e-4745-90aa-95028c4285f8",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - tsResponseCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"tsResponseCode: must not be blank\",\"Please review tsResponseCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "383b75d8-7e38-4020-b407-aafade4258e8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"\",\r\n \"institutionResponseCode\" : \"99\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Requery Action not in body",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "34a829c9-f06e-4971-bdbc-ebdfb5554747",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7affe073-f98d-402a-b9fd-c53e41dbb68b",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - should indicate field cannot be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"requeryAction: must not be null\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7f795691-f093-4e39-b407-c2153df9a749",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n \"id\" : 26,\r\n \"creditAction\" : \"SUCCESS\",\r\n \"debitAction\" : \"SUCCESS\",\r\n \"tsResponseCode\" : \"01\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Debit Action not in body",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5c62cfb9-7d0f-49d1-8407-53ff227b7fe2",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "const min = 1;",
                  "const max = 2000000;",
                  "var tsCode =Math.floor(Math.random() * (max + min));",
                  "const instCode1 =Math.floor(Math.random() * (max + min));",
                  "",
                  "postman.setEnvironmentVariable(\"tsCodeSuccess\", tsCode);",
                  "postman.setEnvironmentVariable(\"middChannelCodeSuccess\", instCode1);",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e8096917-5fbf-441c-9611-0cc87dc82577",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Response Message - Transcation Successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Transaction successful\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Data is popluated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var test = jsonData.data;",
                  "    expect(test).to.not.be.empty;",
                  "});",
                  "pm.test(\"Debit Action - Null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    var test = jsonData.data[0].debitAction;",
                  "    expect(test).to.be.null;",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5c10c289-d123-44e6-b483-9148c96fd8a4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n            \"creditAction\": \"REQUERY\",\r\n            \"requeryAction\": \"REQUERY\",\r\n            \"tsResponseCode\": \"81\",\r\n            \"institutionResponseCode\": \"{{middChannelCodeSuccess}}\"\r\n}]\r\n",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response",
            "description": "Value should be null as it is not required. as the documenation states so"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Credit Action not in body",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e56ceb0f-6d92-4b86-ab8b-d230692ca36e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "821e7426-81c9-4d47-96ae-a08ed4dc1413",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - should indicate field cannot be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"creditAction: must not be null\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3db6215e-9efe-4734-843c-39acadd15722",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n \"id\" : 26,\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\": \"FAILURE\",\r\n \"tsResponseCode\" : \"01\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - TS Institution Code not in body",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ed22a382-b264-4fbd-b56e-025aaeeb32ec",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4456db70-f772-45e0-977d-2642d46e922e",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - should indicate field cannot be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"tsResponseCode: must not be blank\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8e736313-7336-4ab5-8bd1-7d28a4e99130",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n \"id\" : 26,\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\": \"FAILURE\",\r\n \"creditAction\" : \"SUCCESS\",\r\n \"institutionResponseCode\" : \"01\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Middlware Code not in body",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "806aef5a-f9f0-47f7-97fa-0318d9c8438f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "0e707b79-1f5d-45fa-86ad-d6def82035e3",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Response Message - institutionResponseCode: must not be blank or null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect([\"institutionResponseCode: must not be blank\",\"Please review institutionResponseCode for null, non alphanumeric and extra whitespaces\"]).to.include(jsonData.responseMessage.trim());",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3536b2c2-dae0-4042-b3b8-98dd4904714b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[{\r\n \"id\" : 26,\r\n \"debitAction\" : \"SUCCESS\",\r\n \"requeryAction\": \"FAILURE\",\r\n \"creditAction\" : \"SUCCESS\",\r\n \"tsResponseCode\": \"303\"\r\n}]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Requery Action with invalid value",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f730dbc1-a523-4a18-a79d-c90f70507018",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "cb876e2f-4846-4576-82ce-c27fe12f257e",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in requeryAction. Please review \", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in requeryAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c4df17d4-ade2-4558-84d7-a094b3cb1fc6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n       {\r\n            \"active\": true,\r\n            \"creditAction\": \"PENDING\",\r\n            \"debitAction\": \"SUCCESS\",\r\n            \"requeryAction\": \"FAR\",\r\n            \"tsResponseCode\": \"303\",\r\n            \"institutionResponseCode\": \"212\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Debit Action with invalid value",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d394ca9d-7d3a-42a1-af4a-4acf8bc5c9e5",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ff70b588-7a4a-4f6e-8b2c-56abbb5577b5",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in debitAction. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in debitAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9a17e8b7-a619-444b-a06f-cafffdf2c91e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n       {\r\n            \"active\": true,\r\n            \"creditAction\": \"PENDING\",\r\n            \"debitAction\": \"HOT\",\r\n            \"requeryAction\": \"SUCCESS\",\r\n            \"tsResponseCode\": \"303\",\r\n            \"institutionResponseCode\": \"212\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Credit Action with invalid value",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "64f1b57c-2f64-4067-9126-ee1cd0ea5d71",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f046ac39-4171-48fe-b3ae-2d434ed3991d",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message - Non valid field value found in creditAction. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in creditAction. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0377730d-b931-4a4f-a63e-02a1738134c2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n       {\r\n            \"active\": true,\r\n            \"creditAction\": \"HOT\",\r\n            \"debitAction\": \"SUCCESS\",\r\n            \"requeryAction\": \"SUCCESS\",\r\n            \"tsResponseCode\": \"303\",\r\n            \"institutionResponseCode\": \"212\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "Configure Response Code - Small letters as values for Action keys",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "87677dce-4135-46e1-adf5-2db4eaefdfd1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "39363010-fd8d-4d30-8212-e0a4041a54eb",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test('Response Message - Non valid field value found in debitAction. Please review', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "02d39b3b-d489-47a3-9e11-ba2c2baaac3c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n       {\r\n            \"active\": true,\r\n            \"creditAction\": \"PENDING\",\r\n            \"debitAction\": \"success\",\r\n            \"requeryAction\": \"SUCCESS\",\r\n            \"tsResponseCode\": \"303\",\r\n            \"institutionResponseCode\": \"212\"\r\n        }\r\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        },
        {
          "name": "GET Configure Codes List ",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "832beab9-39e5-4f92-9214-112478a2cc6c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "0bf0ff65-6bd2-465a-b536-66457ddfb762",
                "exec": [
                  "var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 200\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response Code: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"Action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "pm.test(\"Data is populated / Data is not empty\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.not.be.empty;",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5c814204-0860-410c-81d7-fd4fd0ff8919",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/configuration/codes/response"
          },
          "response": []
        }
      ],
      "_postman_id": "ad216749-d477-47a3-8966-02c187c93076",
      "description": "As a system i want to be able to provide an endpoint that accepts the list of response code mapping from the bank's response codes to transfer service response codes"
    },
    {
      "name": "Account Enquiry",
      "item": [
        {
          "name": "Account Enquiry - Success (valid)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e3fe3171-341c-4ba0-a471-103572fc93b1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100000; ",
                  "    var max= 990988099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|GTB|SBP|10184|\"+randomId+\"|TOR\";",
                  "",
                  "pm.environment.set(\"valid\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "439e5723-d92d-405c-a5a4-dbc8d746b811",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "",
                  "",
                  "var response = JSON.parse(responseBody);",
                  "",
                  "var process_time = response.processTime;",
                  "",
                  "//utilising the process time in the Retry Success Inquiry to ensure the same record is being returned and mapped to the inital record",
                  "pm.environment.set(\"process_time\", process_time);",
                  "",
                  "pm.environment.set(\"destination_code\", body.institutionCode);",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "var switches = pm.environment.get(\"valid\");",
                  "",
                  "pm.test(\"Account Currency is NGN\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.accountCurrency).to.eql(\"NGN\");",
                  "});",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"institutionResponseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "",
                  "",
                  "pm.test(\"transactionReferenceNumber Matches\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReferenceNumber).to.eql(switches);",
                  "});",
                  "/*",
                  "pm.test(\"Bank Verification Number is 22142464355\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.bankVerificationNumber).to.eql(\"22142464355\");",
                  "});*/",
                  "",
                  "pm.test(\"canCredit is true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(true);",
                  "});",
                  "",
                  "/*pm.test(\"Success Response Message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseMessage).to.eql(\"Success\");",
                  "});*/",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0e0534fb-97fa-4599-b2f3-726457108b9e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Signature",
                "value": "{{signature}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"6016109149\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Dormant Account",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "74332bbb-674d-499b-a4cd-856be533d464",
                "exec": [
                  "var dormant = \"6170192452\";",
                  "pm.environment.set(\"dormant_account\",dormant)",
                  "",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100000; ",
                  "    var max= 990988099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|GTB|FBP|00932|\"+randomId+\"|IOP\";",
                  "",
                  "pm.environment.set(\"dormantRef\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = dormant;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "fa6529b3-6320-4898-abc3-c3a960580006",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "",
                  "",
                  "var response = JSON.parse(responseBody);",
                  "",
                  "var process_time = response.processTime;",
                  "",
                  "pm.environment.set(\"dormant_name\", response.accountName)",
                  "",
                  "//utilising the process time in the Retry Success Inquiry to ensure the same record is being returned and mapped to the inital record",
                  "//pm.environment.set(\"process_time\", process_time);",
                  "",
                  "//pm.environment.set(\"destination_code\", body.institutionCode);",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//var switches = pm.environment.get(\"valid\");",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"canCredit is true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e1432ff4-f66f-422a-b6c1-0c417c01e2b2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "type": "text",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "type": "text",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "type": "text",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"{{dormant_account}}\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{dormantRef}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Inactive Account",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cac412c7-bbce-4d1e-87b7-9d3818325c93",
                "exec": [
                  "var inactive = \"6051346592\";",
                  "pm.environment.set(\"inactive_account\",inactive)",
                  "",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100000; ",
                  "    var max= 990988099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|GTB|FBP|11932|\"+randomId+\"|DOP\";",
                  "",
                  "pm.environment.set(\"inactiveRef\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = inactive;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "aab20548-bafa-4087-bcbd-7f312d8c2813",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "",
                  "",
                  "var response = JSON.parse(responseBody);",
                  "",
                  "var process_time = response.processTime;",
                  "",
                  "pm.environment.set(\"Inactive_name\", response.accountName)",
                  "",
                  "//utilising the process time in the Retry Success Inquiry to ensure the same record is being returned and mapped to the inital record",
                  "//pm.environment.set(\"process_time\", process_time);",
                  "",
                  "//pm.environment.set(\"destination_code\", body.institutionCode);",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//var switches = pm.environment.get(\"valid\");",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"canCredit is true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(true);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2ddb7d56-a197-48a7-a3e2-904477fb31e5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "type": "text",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "type": "text",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "type": "text",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"{{inactive_account}}\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{inactiveRef}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Total Freeze Account",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "79fbe445-f3a5-45f8-a670-1265d4742204",
                "exec": [
                  "var total_freeze = \"6016109149\";",
                  "pm.environment.set(\"total_freeze\",total_freeze)",
                  "",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100000; ",
                  "    var max= 990988099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|GTB|FBP|11932|\"+randomId+\"|LOP\";",
                  "",
                  "pm.environment.set(\"tFreeze\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = total_freeze;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "79ea7353-c4bf-4ce5-9891-c2d75cbdecaa",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "",
                  "",
                  "var response = JSON.parse(responseBody);",
                  "",
                  "var process_time = response.processTime;",
                  "",
                  "pm.environment.set(\"tFreeze_name\", response.accountName)",
                  "",
                  "//utilising the process time in the Retry Success Inquiry to ensure the same record is being returned and mapped to the inital record",
                  "//pm.environment.set(\"process_time\", process_time);",
                  "",
                  "//pm.environment.set(\"destination_code\", body.institutionCode);",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//var switches = pm.environment.get(\"valid\");",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"canCredit is false\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(false);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "543dfd4a-edef-4f41-9df8-cfbe7d795fc6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "type": "text",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "type": "text",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "type": "text",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"{{total_freeze}}\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{tFreeze}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Debit Freeze Account",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "75e3fa72-b51f-4ad9-8cf7-6fee42b2303c",
                "exec": [
                  "var debit_freeze = \"5080093130\";",
                  "pm.environment.set(\"debit_freeze\",debit_freeze)",
                  "",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100000; ",
                  "    var max= 990988099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|GTB|FBP|11932|\"+randomId+\"|LOP\";",
                  "",
                  "pm.environment.set(\"dFreeze\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = debit_freeze;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9e673d8f-f188-495b-8771-84c3ad43942f",
                "exec": [
                  "var body = JSON.parse(request.data);",
                  "",
                  "",
                  "var response = JSON.parse(responseBody);",
                  "",
                  "var process_time = response.processTime;",
                  "",
                  "pm.environment.set(\"tFreeze_name\", response.accountName)",
                  "",
                  "//utilising the process time in the Retry Success Inquiry to ensure the same record is being returned and mapped to the inital record",
                  "//pm.environment.set(\"process_time\", process_time);",
                  "",
                  "//pm.environment.set(\"destination_code\", body.institutionCode);",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "//var switches = pm.environment.get(\"valid\");",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"canCredit is true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(true);",
                  "});",
                  "",
                  "pm.test(\"canDebit is false\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canDebit).to.eql(false);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d9918fe3-e69e-467b-bdb0-0d0d129c1330",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "type": "text",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "type": "text",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "type": "text",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"{{debit_freeze}}\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{dFreeze}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Different amt on straighthru",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d182cd29-1dff-4369-92bf-ba34f010adf7",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 100; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|9838884|\"+randomId+\"|DIFF\";",
                  "",
                  "pm.environment.set(\"diff_amount\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f7028099-b3c1-4723-a727-410e5a47f308",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "var switches = pm.environment.get(\"diff_amount\");",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5e199138-54ba-4683-af55-705e25969b04",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 18833,\r\n\t\"transactionReference\" : \"{{diff_amount}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Duplicate Transaction Reference",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f3da8fc6-4fea-4061-8e0f-27ea7e323dbc",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8cc9f676-2cca-4f67-a93e-db7bc9dcfea4",
                "exec": [
                  "pm.test(\"Status code is 409\", function () {",
                  "    pm.response.to.have.status(409);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 94\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"94\");",
                  "});",
                  "pm.test(\"Response Message: Duplicate transaction detected\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Duplicate transaction detected\");",
                  "});",
                  "pm.test(\"Action: REQUERY\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"REQUERY\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "66080490-d509-4e25-82f6-3e9bb061e044",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"accountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"he922l000l2o11\",\r\n\t\"institutionCode\" : \"FBN\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Empty Currency Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cf943aec-0a43-4e62-a554-c3fa9ba1e7d7",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 30000; ",
                  "    var max= 98099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var ramos = \"CR|ANO|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"just\", ramos);  ",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = ramos;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "07e59530-393a-43b3-81b2-41afbee5a4e3",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "var request = JSON.parse(request.data);",
                  "console.log(request)",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: currencyCode must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"currencyCode must not be blank\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "aa405484-f901-4079-8de1-21c5a34f0cbb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0037320662\",\r\n\t\"currencyCode\" : \"\",\r\n\t\"transactionAmount\" : 1000,\r\n\t\"transactionReference\" : \"{{just}}\",\r\n\t\"institutionCode\" : \"kjkj\",\r\n\t\"channelCode\" : \"098\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Invalid Currency Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cad94d64-712b-454f-bd2c-8575e0b17d6b",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 30000; ",
                  "    var max= 98099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var ramos = \"CR|ANO|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"just\", ramos);  ",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = ramos;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "90db644a-7eda-488d-90e6-a5949d67da0e",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "var request = JSON.parse(request.data);",
                  "console.log(request)",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: Currency not currently supported. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Currency not currently supported. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b692248f-9004-48b0-bc04-b4e65f0a6c2a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0037320662\",\r\n\t\"currencyCode\" : \"HUY\",\r\n\t\"transactionAmount\" : 1000,\r\n\t\"transactionReference\" : \"{{just}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Empty Account Number",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "375a9e24-359a-40ef-9c92-dba3a8699b56",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: accountNumber must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"accountNumber must not be blank\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "5fe0bf63-0993-4e03-b764-2216e0b33cbf",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"emp\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3960c728-79a0-453e-aa82-f285f0c9c198",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 1000,\r\n\t\"transactionReference\" : \"{{emp}}\",\r\n\t\"institutionCode\" : \"063\",\r\n\t\"channelCode\" : \"098\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Invalid Account Number",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cd3ca50b-750e-44aa-ae74-8d2e4ef521d1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"inv\", walk);  ",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "86b32efa-dc51-4477-b230-51439ce64514",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 39\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"39\");",
                  "});",
                  "pm.test(\"Response Message: Invalid account\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Invalid Account\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  "/*",
                  "Response Code mapping for 06 is 39 on the middleware and Action is Failure",
                  "*/"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "77e74635-f2ec-4312-be92-4ec4b36cbbb0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"89687099999\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 1000,\r\n\t\"transactionReference\" : \"{{inv}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Empty Transaction Amount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e530b4dc-f99f-4798-96dc-31109475c9d3",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|EMP|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "34bf4c6b-cb4f-4407-b2e5-5a6f25966064",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: transactionAmount must not be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"transactionAmount must not be null\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1212d8d0-ab5c-4453-878b-9e93cb373274",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0037320662\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : \"\",\r\n\t\"transactionReference\" : \"{{trans}}\",\r\n\t\"institutionCode\" : \"kjkj\",\r\n\t\"channelCode\" : \"098\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Amount as String",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "1bb6f30c-db67-4272-842f-565375c42f9d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|Sade|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "5bac3980-d9c9-427c-908f-40f9589a9f34",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: Non valid field value found in transactionAmount. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"Non valid field value found in transactionAmount. Please review\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "10a4b781-6447-4cc1-9cca-b0d6fd3cc5a5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : \"hello\",\r\n\t\"transactionReference\" : \"{{trans}}\",\r\n\t\"institutionCode\" : \"SBP\",\r\n\t\"channelCode\" : \"1\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Negative Amount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "d19316b4-8f25-4dce-a648-b966672f2f11",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f52c3573-41f9-4b66-8a16-f25577bad439",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: transactionAmount must be greater than or equal to 0\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"transactionAmount must be greater than or equal to 0\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6127095a-3ed1-4e37-833d-77be5b2f2d3b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : -8833,\r\n\t\"transactionReference\" : \"{{trans}}\",\r\n\t\"institutionCode\" : \"SBP\",\r\n\t\"channelCode\" : \"1\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Zero Amount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "08660bca-75b4-4e78-a4c6-178bfe900e8c",
                "exec": [
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|Molu|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "bf8b84b8-0b8f-4311-bd84-1de386b4169e",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "var switches = pm.environment.get(\"trans\");",
                  "/*",
                  "pm.test(\"Account Name is ENYEOBI ONYEKA ORABUEZE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.accountName).to.eql(\"ENYEOBI ONYEKA ORABUEZE\");",
                  "});*/",
                  "",
                  "pm.test(\"Account Currency is NGN\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.accountCurrency).to.eql(\"NGN\");",
                  "});",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "",
                  "",
                  "pm.test(\"transactionReferenceNumber Matches\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReferenceNumber).to.eql(switches);",
                  "});",
                  "/*",
                  "pm.test(\"Bank Verification Number is 22142464355\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.bankVerificationNumber).to.eql(\"22142464355\");",
                  "});*/",
                  "",
                  "pm.test(\"canCredit is true\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.canCredit).to.eql(true);",
                  "});",
                  "",
                  "/*pm.test(\"Success Response Message\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseMessage).to.eql(\"Success\");",
                  "});",
                  "*/"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "08026ef3-a412-43e0-b5c1-79181969edd4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 0,\r\n\t\"transactionReference\" : \"{{trans}}\",\r\n\t\"institutionCode\" : \"WMA\",\r\n\t\"channelCode\" : \"7\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Major Transaction Amount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "fbe1f5ff-0684-42f7-bfab-4566064bdaf8",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|Pod|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "78fd9951-5865-4ca8-97df-851d4f340bc4",
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 63\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "pm.test(\"Response Message: Request failed security validation. Please check the data types sent match the documentation.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c66ed686-1a1c-4e62-bb62-27ef739ed7ba",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 100.67,\r\n\t\"transactionReference\" : \"{{trans}}\",\r\n\t\"institutionCode\" : \"011\",\r\n\t\"channelCode\" : \"1\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Empty Transaction reference",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4cf694a4-d942-434e-a8ed-d5bf8cf3b21f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|Empt|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"trans\", walk);  ",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "2b97d56b-1ee3-44b1-93e1-966865425ce2",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: transactionReference must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"transactionReference must not be blank\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8c42609e-dd78-4fcb-9fed-3429eb172538",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0037320662\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 10067,\r\n\t\"transactionReference\" : \"\",\r\n\t\"institutionCode\" : \"kjkj\",\r\n\t\"channelCode\" : \"098\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Empty Institution Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "54f936bb-f8fb-4c2c-8abd-a3bbe07affd3",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|TIR|Sample2|99090|\"+randomId+\"|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4edd7d59-e465-4273-b541-e2d931f619dc",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: institutionCode must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"institutionCode must not be blank\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "12317712-40dd-4825-ab3e-3d99e87f4ffb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0037320662\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 1000,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"institutionCode\" : \"\",\r\n\t\"channelCode\" : \"098\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Deactivated Channel",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "975fe421-773d-4446-8bb0-0353854c6b85",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "19a84827-5165-4afc-a125-f9f8553a2a3a",
                "exec": [
                  "",
                  "//Institution is not recognized by the CBA",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"transactionReferenceNumber Matches\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReferenceNumber).to.not.be.null;",
                  "});",
                  "pm.test(\"Response Message: Channel not active\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Channel not active\")",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\")",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c654cc40-7303-4626-9f2b-760c2370e083",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"institutionCode\" : \"FBN\",\r\n\t\"channelCode\" : \"3\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        },
        {
          "name": "Account Enquiry - Non-Exisiting Channel",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3cf55e31-75be-4a23-bd13-00fd3f97665c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "",
                  "",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = walk;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ee4ff1dd-197a-4487-9f45-eb7cb45abf86",
                "exec": [
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "pm.test(\"Response Code: 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "pm.test(\"Response Message: Channel not supported\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Channel not supported\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e9b60487-5257-4e8b-af1a-5456b66051a5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"accountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"institutionCode\" : \"nip\",\r\n\t\"channelCode\" : \"0\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/account/enquiry"
          },
          "response": []
        }
      ],
      "_postman_id": "19133599-b5f1-4602-9552-adf9c6237996",
      "description": "Automated tests for Credit Acct Enquiry"
    },
    {
      "name": "Credit Straight Through",
      "item": [
        {
          "name": "Credit - Acc Name is Mismatched",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "0deac6f3-edb4-4562-836e-2c459a12480f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ea51f80b-3483-4c1d-bb67-b5ad721f2fe8",
                "exec": [
                  "var reference = pm.environment.get(\"valid\"); ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Valid Transaction Reference no: \"+reference+\"\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.eql(reference);",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Destination Account number provided does not match the account number used during enquiry. Please review.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Destination Account number provided does not match the account number used during enquiry. Please review.\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action is Failure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e0db479f-9fed-41b6-947f-c7561bfe45fa",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"FESTUS PATRICKS\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 100512,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"FBN\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"4\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Acc No is Different",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e5cd33cc-6f4d-4079-a86c-ebab7efba10e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e61b50b2-98f4-438a-984b-982dfbf111aa",
                "exec": [
                  "var reference = pm.environment.get(\"valid\"); ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Valid Transaction Reference no: \"+reference+\"\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.eql(reference);",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Destination Account number provided does not match the account number used during enquiry. Please review.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Destination Account number provided does not match the account number used during enquiry. Please review.\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action is Failure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "315a197e-f4ee-489e-9281-b5a867f56118",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160468\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 100512,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Diff. Destination Inst. Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "27598ad8-748e-406e-a828-66df27ff56f6",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "407df83b-3b3d-45d4-91fc-3349ebbd1241",
                "exec": [
                  "var reference = pm.environment.get(\"valid\"); ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Valid Transaction Reference no: \"+reference+\"\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.eql(reference);",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Destination Institution Code provided does not match the code used during enquiry. Please review.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Destination Institution Code provided does not match the code used during enquiry. Please review.\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action is Failure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3f282259-da47-4203-a8f6-2a38e795999c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 100512,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"ABP\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Diff. Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5d1e7459-74f5-4f81-b820-7668e8b5ee05",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "c24c51ad-a173-40a4-91dd-ee49234dd365",
                "exec": [
                  "var reference = pm.environment.get(\"valid\"); ",
                  "",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Valid Transaction Reference no: \"+reference+\"\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.eql(reference);",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Channel Code provided during enquiry does not match the Channel code used during credit completion. Please review.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Channel Code provided during enquiry does not match the Channel code used during credit completion. Please review.\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action is Failure\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e7787c7b-226e-4c8d-b828-e7fc4f9d3ff0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 100512,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"2\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Success (with Ref from Inquiry)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b4640cba-8876-4f97-bbfa-5394b2d78a6d",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"18-07-2019 12:14:00\"//\"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3262f809-d49b-45e0-9d60-6c01a63ab3f0",
                "exec": [
                  "var destinationInstitutionCode = pm.environment.get(\"destination_code\"); ",
                  "",
                  "var body = JSON.parse(responseBody);",
                  "",
                  "//to assertvalues on the duplicate request",
                  "var dup_time = pm.environment.set(\"dup_time\", body.institutionProcessingTime); ",
                  "var message = pm.environment.set(\"dup_msg\", body.responseMessage); ",
                  "var code = pm.environment.set(\"dup_code\", body.responseCode); ",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"transactionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"transactionReference\");",
                  "});",
                  "",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"institutionChannelCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionChannelCode\");",
                  "});",
                  "",
                  "/*pm.test(\"Destination institution matches that on Inquiry : \"+destinationInstitutionCode, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.destinationInstitutionCode).to.eql(destinationInstitutionCode);",
                  "});*/",
                  "",
                  "pm.test(\"destinationInstitutionCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"destinationInstitutionCode\");",
                  "});",
                  "",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});",
                  "pm.test(\"institutionProcessingTime is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionProcessingTime\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a66ff862-2924-43de-8cd9-d0ad37805fc6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Credit - Dormant Account (Ref from Inquiry)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "513367e6-ca32-4628-96a8-60fab92c594e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"18-07-2019 12:14:00\"//\"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "0ac4c087-3444-43e5-b5b6-794cff491309",
                "exec": [
                  "var destinationInstitutionCode = pm.environment.get(\"destination_code\"); ",
                  "",
                  "var body = JSON.parse(responseBody);",
                  "",
                  "//to assertvalues on the duplicate request",
                  "var dup_time = pm.environment.set(\"dup_time\", body.institutionProcessingTime); ",
                  "var message = pm.environment.set(\"dup_msg\", body.responseMessage); ",
                  "var code = pm.environment.set(\"dup_code\", body.responseCode); ",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"transactionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"transactionReference\");",
                  "});",
                  "",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"institutionChannelCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionChannelCode\");",
                  "});",
                  "",
                  "/*pm.test(\"Destination institution matches that on Inquiry : \"+destinationInstitutionCode, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.destinationInstitutionCode).to.eql(destinationInstitutionCode);",
                  "});*/",
                  "",
                  "pm.test(\"destinationInstitutionCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"destinationInstitutionCode\");",
                  "});",
                  "",
                  "pm.test(\"transactionPhase : NOTIFIED_VIA_API\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"NOTIFIED_VIA_API\");",
                  "});",
                  "pm.test(\"institutionProcessingTime is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionProcessingTime\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ea6a55cb-a8a9-4ba8-8170-828a92487444",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Credit - Success (Straight)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "0077c336-376b-425b-ace3-92863e382d18",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|SBP|FBN|898388|\"+randomId+\"|BURNA\";",
                  "",
                  "pm.environment.set(\"thru\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment')",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY HH:mm:ss');",
                  "console.log(requestTime)",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "cc011a41-7155-42d2-9a4e-e3b026ceaf6b",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"transactionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"transactionReference\");",
                  "});",
                  "pm.test(\"institutionResponseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"institutionChannelCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionChannelCode\");",
                  "})",
                  ";pm.test(\"destinationInstitutionCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"destinationInstitutionCode\");",
                  "});",
                  "",
                  "pm.test(\"institutionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionReference\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});",
                  "pm.test(\"institutionProcessingTime is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionProcessingTime\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7307ce73-0e0b-4f3f-84d9-bff33a683683",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": [
            {
              "id": "f49767d0-0aca-462b-8f6e-5d273cfd8d1c",
              "name": "Credit - Success (Straight)Prod",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Nonce",
                    "value": "{{nonce}}"
                  },
                  {
                    "key": "Algorithm",
                    "value": "SHA_512"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Signature",
                    "value": "{{signature}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\t\"destinationAccountName\" : \"FESTUS  PATRICK\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"FBN\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}"
                },
                "url": "{{sterling}}/credit/transaction/post"
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json;charset=UTF-8"
                },
                {
                  "key": "Content-Length",
                  "value": "474"
                },
                {
                  "key": "Date",
                  "value": "Thu, 01 Aug 2019 13:59:01 GMT"
                },
                {
                  "key": "Age",
                  "value": "20"
                },
                {
                  "key": "Connection",
                  "value": "keep-alive"
                },
                {
                  "key": "Server",
                  "value": "ATS/5.3.1"
                }
              ],
              "cookie": [],
              "responseTime": null,
              "body": "{\n    \"responseTime\": \"01-08-2019 14:58:35\",\n    \"responseCode\": \"09\",\n    \"responseMessage\": \"An error occurred while communicating with the CBA\",\n    \"institutionResponseCode\": null,\n    \"institutionResponseMessage\": \"Connection prematurely closed BEFORE response\",\n    \"action\": \"REQUERY\",\n    \"transactionReference\": \"CR|SBP|FBN|898388|59714297806|BURNA\",\n    \"institutionChannelCode\": \"1\",\n    \"destinationInstitutionCode\": null,\n    \"institutionReference\": null,\n    \"transactionPhase\": \"RETRY_QUEUE\",\n    \"institutionProcessingTime\": null\n}"
            }
          ]
        },
        {
          "name": "Credit - Success (with Special Characters in Destination Acc. Name)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "caa21cdc-698a-461a-bc91-f2142d814723",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|SBP|FBN|898388|\"+randomId+\"|BURNA\";",
                  "",
                  "pm.environment.set(\"thru\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment')",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY HH:mm:ss');",
                  "console.log(requestTime)",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a63f1a63-6a8b-4435-847c-f7d82445cd85",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"transactionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"transactionReference\");",
                  "});",
                  "pm.test(\"institutionResponseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"institutionChannelCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionChannelCode\");",
                  "})",
                  ";pm.test(\"destinationInstitutionCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"destinationInstitutionCode\");",
                  "});",
                  "",
                  "pm.test(\"institutionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionReference\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});",
                  "pm.test(\"institutionProcessingTime is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionProcessingTime\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "042c4a84-5293-47c7-bd89-7d22bbe8ad25",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA'' ARIBO''\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": [
            {
              "id": "93cf3cc0-5846-412b-afa0-ff40b160cdcb",
              "name": "Credit - Success (Straight)Prod",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Nonce",
                    "value": "{{nonce}}"
                  },
                  {
                    "key": "Algorithm",
                    "value": "SHA_512"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Signature",
                    "value": "{{signature}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\t\"destinationAccountName\" : \"FESTUS  PATRICK\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"FBN\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}"
                },
                "url": "{{sterling}}/credit/transaction/post"
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json;charset=UTF-8"
                },
                {
                  "key": "Content-Length",
                  "value": "474"
                },
                {
                  "key": "Date",
                  "value": "Thu, 01 Aug 2019 13:59:01 GMT"
                },
                {
                  "key": "Age",
                  "value": "20"
                },
                {
                  "key": "Connection",
                  "value": "keep-alive"
                },
                {
                  "key": "Server",
                  "value": "ATS/5.3.1"
                }
              ],
              "cookie": [],
              "responseTime": null,
              "body": "{\n    \"responseTime\": \"01-08-2019 14:58:35\",\n    \"responseCode\": \"09\",\n    \"responseMessage\": \"An error occurred while communicating with the CBA\",\n    \"institutionResponseCode\": null,\n    \"institutionResponseMessage\": \"Connection prematurely closed BEFORE response\",\n    \"action\": \"REQUERY\",\n    \"transactionReference\": \"CR|SBP|FBN|898388|59714297806|BURNA\",\n    \"institutionChannelCode\": \"1\",\n    \"destinationInstitutionCode\": null,\n    \"institutionReference\": null,\n    \"transactionPhase\": \"RETRY_QUEUE\",\n    \"institutionProcessingTime\": null\n}"
            }
          ]
        },
        {
          "name": "Credit - Success (with Special Characters in Source Acc. Name)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "485fe070-5019-4740-bf73-d15db0ae772b",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 2000000; ",
                  "    var max= 99098498099;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|SBP|FBN|898388|\"+randomId+\"|BURNA\";",
                  "",
                  "pm.environment.set(\"thru\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment')",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY HH:mm:ss');",
                  "console.log(requestTime)",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9be11f43-0d2f-45ee-8ca5-73a8825be051",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"transactionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"transactionReference\");",
                  "});",
                  "pm.test(\"institutionResponseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.eql(\"00\");",
                  "});",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"institutionChannelCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionChannelCode\");",
                  "})",
                  ";pm.test(\"destinationInstitutionCode is Present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"destinationInstitutionCode\");",
                  "});",
                  "",
                  "pm.test(\"institutionReference is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionReference\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});",
                  "pm.test(\"institutionProcessingTime is present\", function () {",
                  "    pm.expect(pm.response.text()).to.include(\"institutionProcessingTime\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2c1ec072-520b-4d88-8e8e-a787f848aa18",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA'' ARIBO''\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA'' AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": [
            {
              "id": "a272e497-33e0-4433-9ed1-a1c4e1841f0b",
              "name": "Credit - Success (Straight)Prod",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Nonce",
                    "value": "{{nonce}}"
                  },
                  {
                    "key": "Algorithm",
                    "value": "SHA_512"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Signature",
                    "value": "{{signature}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n\t\"destinationAccountName\" : \"FESTUS  PATRICK\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{thru}}\",\r\n\t\"destinationInstitutionCode\" : \"FBN\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}"
                },
                "url": "{{sterling}}/credit/transaction/post"
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json;charset=UTF-8"
                },
                {
                  "key": "Content-Length",
                  "value": "474"
                },
                {
                  "key": "Date",
                  "value": "Thu, 01 Aug 2019 13:59:01 GMT"
                },
                {
                  "key": "Age",
                  "value": "20"
                },
                {
                  "key": "Connection",
                  "value": "keep-alive"
                },
                {
                  "key": "Server",
                  "value": "ATS/5.3.1"
                }
              ],
              "cookie": [],
              "responseTime": null,
              "body": "{\n    \"responseTime\": \"01-08-2019 14:58:35\",\n    \"responseCode\": \"09\",\n    \"responseMessage\": \"An error occurred while communicating with the CBA\",\n    \"institutionResponseCode\": null,\n    \"institutionResponseMessage\": \"Connection prematurely closed BEFORE response\",\n    \"action\": \"REQUERY\",\n    \"transactionReference\": \"CR|SBP|FBN|898388|59714297806|BURNA\",\n    \"institutionChannelCode\": \"1\",\n    \"destinationInstitutionCode\": null,\n    \"institutionReference\": null,\n    \"transactionPhase\": \"RETRY_QUEUE\",\n    \"institutionProcessingTime\": null\n}"
            }
          ]
        },
        {
          "name": "Credit - Duplicate Transaction",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "5986a312-b3d0-4044-be29-a64816631ec5",
                "exec": [
                  "var moment = require('moment')",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY, h:mm:ss');",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference =  pm.environment.get(\"valid\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "33761825-ff8c-42cf-8ec5-c5e6f391f805",
                "exec": [
                  "var dup_time = pm.environment.get(\"dup_time\"); ",
                  "var message = pm.environment.get(\"dup_msg\");",
                  "var code = pm.environment.get(\"dup_code\");",
                  "",
                  "pm.test(\"Transaction Processing time matches that on the initial transaction\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionProcessingTime).to.eql(dup_time);",
                  "});",
                  "",
                  "pm.test(\"Response Code matches that on the initial transaction\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(code);",
                  "});",
                  "pm.test(\"Response Message matches that on the initial transaction\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(message);",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0292d253-0eb8-4c29-a56e-715e4ea6720a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{valid}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Automated Tests for Transfer Service Credit"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Destination Acc No",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "c77db702-46e7-4e13-98fc-7931b803d874",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4c11a74c-3351-482d-bf6c-bad76ac94825",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: destinationAccountNumber must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"destinationAccountNumber must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Referent number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3b38f9b0-cefd-48f5-abce-a202bd023319",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"01\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Destination Acc Name",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6c19f9c0-c2ba-4fcb-8717-4c8e96d5aab0",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "ffa8de67-0636-4f4a-905e-351150f275c3",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: destinationAccountNumber must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"destinationAccountName must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e1909d7c-a482-400a-ac1f-b8ebd6da4d21",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"01\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Currency Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "7250e24a-76db-4002-af82-ddb5f2ca58e3",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "2a495e7f-9c88-4a4a-b790-0132fa71df63",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: destinationAccountNumber must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"currencyCode must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6137b972-dca6-44cb-ac6e-d3412ae20434",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"01\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Narration",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "aa604b30-275e-43f1-9ca4-121daaa8679a",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "393a4511-618f-40d4-b579-13b4f253f692",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: narration must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage.trim()).to.eql(\"narration must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "43b7e584-27d9-4af1-89fe-6828ef497367",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Amount",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8ecd5529-4760-4878-b1da-730a8f0d174a",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "76800e2e-d2d2-4677-95d7-67f44f339830",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: transactionAmount must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"transactionAmount must not be null\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2bbb328b-673b-4b58-8c72-23bfd40516ef",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : \"\",\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Transaction Reference",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ee41946b-b05f-4df7-81b8-5d2be4e239ee",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Test|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"Ref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3025f5f9-8c02-441a-a0ee-93bff8d4403c",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: transactionReference must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"transactionReference must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6d3a123a-0b7c-493b-a7e2-d8bfa109d8e9",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Destination Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8b8f49d6-03dc-47ec-9992-1a6565611426",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "51fa5a15-542a-4d5b-a43e-c582c93cfb19",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: destinationInstitutionCode must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"destinationInstitutionCode must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "40fc1139-3305-4fb0-9643-1723a9bec05c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Source Institution Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3a1f6e2a-8fe2-4c23-b69a-7ba6d01be24f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "e017d110-c4e4-4816-a7e1-1c0a5b565e57",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: sourceInstitutionCode must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"sourceInstitutionCode must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2aa83ad2-36fa-450f-8b39-e424b1ec54dc",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Source Acc Name",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "281392d8-27d2-4460-b725-7abe0e7d58bb",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a6fbe3b6-5ed9-49db-a36f-79c6a4279a5f",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: sourceAccountName must not be null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"sourceAccountName must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b1426039-adb3-4c7c-9128-4c59135f532b",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"43534242343\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty debit source institution account",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "7fc2040f-c865-4bff-998e-bbcf4e3a364e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "3d018226-a4c5-4394-8827-5fcd8109240c",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: Non valid field value found in debitSourceInstitutionAccount. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in debitSourceInstitutionAccount. Please review\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ef4d9774-8ed8-43d5-a642-407a168be650",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": \"\",\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "cfd2883e-ec4f-4f5c-a255-7c60aa813820",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "bb5e1ff3-a4bf-43cc-a608-722c1a7c346a",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: channelCode must not be blank\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"channelCode must not be blank\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f8a90c7f-b412-44df-b56e-e30aa1295e13",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Request Time",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "4776216d-4e94-420b-8c35-30abf64b9cdd",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = \"\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f0d54b27-f4c1-4a0f-ac7d-56b06c5c6e9a",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: Invalid Date Format\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Invalid Date Format\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f7b8b4ca-bd3c-4bbc-ae48-7763cb082b88",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid Date Request Time (client side failure)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f154ceda-766e-4c6d-8777-392f05488fca",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|FBN|SBP|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"c_fail\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "2d95d79f-8b24-4c04-8294-00a984f54c81",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: Invalid Date Format\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Invalid Date Format\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0de7dca7-c5dd-40ef-8c07-e4e1df263eef",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{c_fail}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"13-50-2019 12:43:12\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Month greater than 12"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid Request Time Format",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f6d75b46-19d4-4cd1-a844-99ae09c733df",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f2d73ed9-534f-49ff-84dd-0e7d7956473c",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: Invalid Date Format\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Invalid Date Format\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.not.be.null;",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6a06fea4-bd1a-4ed3-ae5f-a78c50f06a93",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"30-01-2020 40:43:12\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty BVN",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b56febd7-fd38-41bd-8287-fd87c715de8f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "b14b2a22-e4c4-45c2-838c-64812206af7a",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b331da14-0ccf-4107-bd2a-41b998d2be3f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Location",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "0c08134c-6d68-4d92-a3a0-9c8d42ab7f86",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8a7c2758-6bf7-497f-8bcd-6d7fe5cc21dd",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "57d401cc-c414-4697-9156-d7bc2ca27532",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"43534242343\",\r\n\t\"transactionLocation\" : \"\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty KYC Level",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8d9b1e18-3c37-4646-b826-5628fdfd5c51",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "db99c8d0-f7f7-4b12-acad-24eefc567620",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b6ba7626-a740-47b0-847c-48399e473cc5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"43534242343\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Empty Source Acc No",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "e81cbfa1-b1b1-4e06-8856-c7ba7287857c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "var moment = require('moment');",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY h:mm:ss')",
                  "",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "be63c56d-7025-4f5a-b18e-5cf30527153a",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage.trim()).to.eql(\"sourceAccountNumber must not be blank\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d9ea47b9-5557-4778-8770-66937941898f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"43534242343\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid Account Number",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "c691454e-466d-4318-9bbe-bf3a427bb1d1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "acf25c2d-2ebd-4b5f-adfc-df2b8ced32c6",
                "exec": [
                  "var body = JSON.parse(request.data)",
                  "var receiver = body.destinationInstitutionCode;",
                  "",
                  "/*pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 39\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"39\");",
                  "});*/",
                  "",
                  "pm.test(\"institutionResponseMessage: INVALID_ACCOUNT\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseMessage).to.eql(\"INVALID_ACCOUNT\");",
                  "});",
                  "",
                  "pm.test(\"Transaction Reference number is not present\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionReference).to.not.be.null;",
                  "});",
                  "pm.test(\"Institution Response Code is not null\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.not.be.null;",
                  "});",
                  "pm.test(\"Action: PENDING\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"PENDING\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fd7b1e44-2176-4b66-8055-5d257796e044",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065423228109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid Currency Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "7cd1f665-6c77-4f12-acf2-09d2b96f6f8e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"tranfsref\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "251b7385-100f-4698-99d2-e7949f0cb7ae",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage is Currency not currently supported. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Currency not currently supported. Please review\");",
                  "});",
                  "",
                  "pm.test(\"action is FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e24ba4a1-58b2-4ef7-b3e7-9d9579a54cc7",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"HUI\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Amount as String",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "a4883b2f-bb77-44fe-b24b-74779fe0bb11",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|In|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"c_code\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "4f21996d-4b4c-40c8-923e-23e6d35a309a",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage: Non valid field value found in transactionAmount. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in transactionAmount. Please review\");",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f8f2f52f-e4dc-49f2-948c-5f9f641fe186",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : \"hello\",\r\n\t\"transactionReference\" : \"{{c_code}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Debit source is false",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "630a9a6b-f885-49bf-916f-562e9bb2c160",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|TEST|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "d32a9820-5165-4c20-9e21-af577c05cae0",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"action is SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"SUCCESS\");",
                  "});",
                  "",
                  "",
                  "pm.test(\"transactionPhase : PROCESSED\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.transactionPhase).to.eql(\"PROCESSED\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "14695eee-0748-4cc6-9c5e-cb6bae02be83",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"OLUWATOBA ARIBO\",\r\n\t\"destinationAccountNumber\" : \"5050160068\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"destinationInstitutionCode\" : \"WMA\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": false,\r\n\t\"channelCode\" : \"7\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Debit source institution set to true",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "974f2a98-3543-494f-a685-d9c52ce96375",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|In|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"c_code\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "914f9189-1f7c-43c7-87ab-b4f311da5d54",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b250de44-b6e4-4b69-b95b-3b4494fa9a09",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{c_code}}\",\r\n\t\"destinationInstitutionCode\" : \"ABP3\",\r\n\t\"sourceInstitutionCode\" : \"GTP\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "This is manually tested as the status of account being debited isnt returned in the response body"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "3dc577f5-7c96-46e8-9810-243881bd4643",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|In|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"c_code\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "96050965-1032-4598-b68a-22683aee15df",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage: Invalid Amount\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Channel not supported\");",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "022d963f-2b19-42de-afa7-ca7f1ac70adb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{c_code}}\",\r\n\t\"destinationInstitutionCode\" : \"ABP3\",\r\n\t\"sourceInstitutionCode\" : \"GTP\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"898\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Disabled Channel Code",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f0d57f14-8434-435e-9f13-ad60abf5ad7c",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|In|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"c_code\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = walk;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "9086d6d4-6e3f-440e-a217-f1479ac2b84f",
                "exec": [
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 30\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage: Invalid Amount\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Channel not active\");",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fee5553f-135a-4c9f-ad63-5ad371a73444",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 8833,\r\n\t\"transactionReference\" : \"{{c_code}}\",\r\n\t\"destinationInstitutionCode\" : \"ABP3\",\r\n\t\"sourceInstitutionCode\" : \"GTP\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"3\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        },
        {
          "name": "Credit - Amount set in Major",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "2a807a70-ec9b-48c3-acfa-3a33f5b26857",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "    var min= 123; ",
                  "    var max= 8977876757657;  ",
                  "    var randomId =Math.floor(Math.random() * (max + min));",
                  "",
                  "var walk = \"CR|MID|Sample2|\"+randomId+\"|1092|TOR\";",
                  "",
                  "pm.environment.set(\"tranfsref\", walk);  ",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = \"07-02-2019 17:43:00\";",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = pm.environment.get(\"tranfsref\");",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "bbe5fa07-e81d-4c42-8553-72ea7050b0b0",
                "exec": [
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode is 63\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage: Request failed security validation. Please check the data types sent match the documentation.\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ff096cd2-add5-4aff-ad2e-1f680ca42e23",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"0065428109\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 1000.87,\r\n\t\"transactionReference\" : \"{{tranfsref}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": true,\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post",
            "description": "Amount having a decimal point"
          },
          "response": []
        },
        {
          "name": "Credit - Invalid debitSourceInstitutionAccount value",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "62d6a69e-c223-4d75-82ab-793f6f450188",
                "exec": [
                  "var moment = require('moment');",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "// 'use strict';",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "  ",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.destinationAccountNumber;",
                  "var accountName = requestBody.destinationAccountName;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var institutionCode = requestBody.destinationInstitutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "var requestTime = moment().format('DD-MM-YYYY, h:mm:ss');",
                  "",
                  "var nonce = guid()",
                  "requestBody.transactionReference = nonce",
                  "var transactionReference = requestBody.transactionReference;",
                  "",
                  "var data = nonce + accountName + accountNumber + transactionAmount + currencyCode + transactionReference + institutionCode + channelCode;",
                  "// jsSHA = require(\"jssha\");",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"accountNumber\", accountNumber);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionAmount\", transactionAmount);",
                  "",
                  "postman.setEnvironmentVariable(\"currencyCode\", currencyCode);",
                  "",
                  "postman.setEnvironmentVariable(\"transactionReference\", transactionReference);",
                  "",
                  "postman.setEnvironmentVariable(\"requestTime\", requestTime);",
                  "",
                  "postman.setEnvironmentVariable(\"institutionCode\", institutionCode);",
                  "",
                  "postman.setEnvironmentVariable(\"channelCode\", channelCode);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "00930cd3-8d71-444f-a235-8737aa62d011",
                "exec": [
                  "var body = JSON.parse(responseBody);",
                  "",
                  "var failed = body.transactionReference;",
                  "",
                  "pm.environment.set(\"failed\", failed);",
                  "",
                  "pm.test(\"Status code is 400\", function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test(\"responseCode is 39\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"30\");",
                  "});",
                  "",
                  "pm.test(\"Action : FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});",
                  "pm.test(\"Response Message : Non valid field value found in debitSourceInstitutionAccount. Please review\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Non valid field value found in debitSourceInstitutionAccount. Please review\");",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e86d26ef-9479-4b11-9b6d-8618613de672",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"destinationAccountName\" : \"ADESANMI M. OLUWATOMINIYI\",\r\n\t\"destinationAccountNumber\" : \"1112\",\r\n\t\"currencyCode\" : \"NGN\",\r\n\t\"narration\": \"ISW\",\r\n\t\"transactionAmount\" : 10000,\r\n\t\"transactionReference\" : \"{{transactionReference}}\",\r\n\t\"destinationInstitutionCode\" : \"DMD\",\r\n\t\"sourceInstitutionCode\" : \"063\",\r\n\t\"debitSourceInstitutionAccount\": \"asdad\",\r\n\t\"channelCode\" : \"1\",\r\n\t\"requestTime\" : \"{{requestTime}}\",\r\n\t\"bankVerificationNumber\" : \"22141738978\",\r\n\t\"transactionLocation\" : \"-6.2121,1.1211\",\r\n\t\"kycLevel\" : \"1\",\r\n\t\"sourceAccountName\" : \"BUKOLA AKINFOLARIN\",\r\n\t\"sourceAccountNumber\": \"2348037056151\",\r\n\t\"additionalInfo\" : \"{\\\"sourceBvn\\\":\\\"22295548274\\\",\\\"sourceKycLevel\\\":\\\"1\\\"}\"\r\n}",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/credit/transaction/post"
          },
          "response": []
        }
      ],
      "_postman_id": "23df7221-031a-489e-b958-1df8eb861c0a",
      "description": "Automated tests for Credit Acct Enquiry"
    },
    {
      "name": "Get Transaction Status",
      "item": [
        {
          "name": "Get Transaction Status - Successful Transaction",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "adadf52b-84dc-46d7-b907-8100d11b3b57",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"responseMessage: Approved by financial institution\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Approved by financial institution\");",
                  "});",
                  "",
                  "pm.test(\"institutionResponseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.institutionResponseCode).to.eql('00');",
                  "});",
                  "",
                  "pm.test(\"action: SUCCESS\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql('SUCCESS');",
                  "});",
                  "",
                  "",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d9ef361c-43fd-4c5f-93ec-323d1c4477a2",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4c12ab19-8efe-49b0-b88d-bee1061baa2c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/credit/transaction/enquiry/{{valid}}"
          },
          "response": []
        },
        {
          "name": "Get Transaction Status - Failed Transaction(server side)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8f41ec5c-c5f7-47f5-8b62-c488f88c001d",
                "exec": [
                  "var expect = require('chai').expect",
                  "var body = JSON.parse(responseBody)",
                  "",
                  "var msg = body.responseMessage",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql('FAILURE');",
                  "});",
                  "pm.test(\"Response Message: \"+msg, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(msg);",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ed3b3dd5-3f10-4baa-aa37-d379d9e00dec",
                "exec": [
                  "setTimeout(function(){ ",
                  "",
                  "",
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  "",
                  "    }, 6000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b937dfc2-a898-4ede-ba23-db109f3757c7",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": "{{fidelity}}/credit/transaction/enquiry/{{fails}}"
          },
          "response": []
        },
        {
          "name": "Get Transaction Status - Transaction not in DB",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "36d6300e-fe8e-4330-97fc-e4844ab8dc04",
                "exec": [
                  "pm.test(\"Status code is 404\", function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "//25 = Transaction not found on TS Response Code Documentation",
                  "pm.test(\"responseCode: 25\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"25\");",
                  "});",
                  "",
                  "pm.test(\"ResponseMessage: Transfer not found in database\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.include(\"not found in database\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.include(\"FAILURE\");",
                  "});",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "6bdce7f7-be67-4c54-9b79-6ce3bbf2597e",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "07ac0f35-25bf-4f0e-9209-3216fe9cce29",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/credit/transaction/enquiry/CR|Hello|sjdjjdj|sdjjdjd"
          },
          "response": []
        },
        {
          "name": "Get Transaction Status - Pending Transaction ",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fb5ed7b6-96df-42ea-80a6-297f7ee4be79",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "/*",
                  "pm.test(\"responseCode: 19\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"19\");",
                  "});*/",
                  "",
                  "",
                  "pm.test(\"action: Pending\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql('PENDING');",
                  "});",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8481f088-0868-4cad-8d52-80f84f0e3e16",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9e1ac872-d108-4acf-ad70-72a8309c6c31",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/credit/transaction/enquiry/CR|SBP|FBN|898388|57003825422|BURNA"
          },
          "response": []
        },
        {
          "name": "Get Transaction Status - Failed Transaction(client side)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b9b2f3b6-c926-496e-a2c4-45aa56fd1db4",
                "exec": [
                  "var expect = require('chai').expect",
                  "var body = JSON.parse(responseBody)",
                  "",
                  "var msg = body.responseMessage",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql('FAILURE');",
                  "});",
                  "pm.test(\"Response Message: \"+msg, function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(msg);",
                  "    pm.expect(jsonData.responseMessage).to.not.be.null;",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "bc5a1415-deed-494f-a258-6d9e19e40ba1",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "69c947ff-75b8-48a7-b549-110568c50796",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": "{{fidelity}}/credit/transaction/enquiry/{{c_fail}}"
          },
          "response": []
        },
        {
          "name": "Healthcheck",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "8aaaa38b-dbc6-4c2b-b27b-151612f61f87",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "d367ce2f-8bca-4157-b394-9b2274b0fd95",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"00\");",
                  "});",
                  "",
                  "pm.test(\"I am alive\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"I am alive\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1de8da9d-c085-4283-9bd8-33dff1f4b34d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Nonce",
                "value": "{{nonce}}"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Signature",
                "value": "{{signature}}"
              }
            ],
            "url": "{{fidelity}}/health/ping"
          },
          "response": []
        }
      ],
      "_postman_id": "762b738a-f7ee-4948-99da-7d3a1ba3b827"
    },
    {
      "name": "Security Validation",
      "item": [
        {
          "name": "Security - Nonce not included in header",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f4f14578-06fc-496d-ac5e-1db3f94decec",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "6017d7c8-360b-4049-8c37-4e23021ad76c",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Please include the Nonce header in this request\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "840cc5e9-769f-46e8-90e8-c300c9d070bf",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Signature",
                "value": "{{signature}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "Security - Signature not included in header",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "6abc5d81-8f7b-4b6d-9e62-4ccc04b64963",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "7510757e-d495-4077-9f1b-26f3a676c849",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Please include the Signature header in this request\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c0cf303d-9352-4897-ab65-660199829404",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "nonce",
                "value": "{{nonce}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "Security - Algorithm not included in header",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "b5b41fad-f3f5-475f-8cfd-5335e5a59bb3",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "a9520926-b461-4f0a-b61e-62a42548d3db",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Please include the Algorithm header in this request. e.g SHA_1, SHA_256, SHA_384, SHA_512\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c27dce19-f8a2-4c47-9e39-2050b0583e73",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "nonce",
                "value": "{{nonce}}",
                "type": "text"
              },
              {
                "key": "signature",
                "value": "{{signature}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "Security - Algorithm not SHA_512",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "43f4db5b-17f8-4575-9d1d-ebb0713f81bc",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "f4881a83-7873-4bc3-83a7-8dd46c0f01ec",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "/*",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Please include the Algorithm header in this request. e.g SHA_1, SHA_256, SHA_384, SHA_512\");",
                  "});*/",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2cc32bc0-3bae-44d0-89f5-ef1739195d55",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "nonce",
                "value": "{{nonce}}",
                "type": "text"
              },
              {
                "key": "signature",
                "value": "{{signature}}",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_1",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "Security - Invalid Signature",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "ec4cdf6d-0699-4503-bef4-2467bde75b1f",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "d1fca15e-d8f0-40c2-8a6d-d38e176fd8c8",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3f273efe-a503-410b-85dc-7d4d9f17f05e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "nonce",
                "value": "{{nonce}}",
                "type": "text"
              },
              {
                "key": "signature",
                "value": "ajhssj",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        },
        {
          "name": "Security - Invalid Nonce",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "266da3ac-cf60-4101-896a-806d28dee895",
                "exec": [
                  "function guid() {",
                  "  function s4() {",
                  "    return Math.floor((1 + Math.random()) * 0x10000)",
                  "      .toString(16)",
                  "      .substring(1);",
                  "  }",
                  "   return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();",
                  "}",
                  "",
                  "",
                  "/*",
                  " A JavaScript implementation of the SHA family of hashes, as",
                  " defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding",
                  " HMAC implementation as defined in FIPS PUB 198a",
                  "",
                  " Copyright Brian Turek 2008-2017",
                  " Distributed under the BSD License",
                  " See http://caligatio.github.com/jsSHA/ for more information",
                  "",
                  " Several functions taken from Paul Johnston",
                  "*/",
                  "",
                  "",
                  "",
                  "(function(K){",
                  "    function x(b,a,d){",
                  "       ",
                  "        var e=0,g=[],k=0,f,c,m,h,l,p,t,q,y=!1,u=[],r=[],v,A=!1;d=d||{};",
                  "        f=d.encoding||\"UTF8\";v=d.numRounds||1;if(v!==parseInt(v,10)||1>v)throw Error(\"numRounds must a integer >= 1\");if(0===b.lastIndexOf(\"SHA-\",0))if(p=function(a,d){return B(a,d,b)},t=function(a,d,g,e){var c,k;if(\"SHA-384\"===b||\"SHA-512\"===b)c=(d+129>>>10<<5)+31,k=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=c;)a.push(0);a[d>>>5]|=128<<24-d%32;d=d+g;a[c]=d&4294967295;",
                  "a[c-1]=d/4294967296|0;g=a.length;for(d=0;d<g;d+=k)e=B(a.slice(d,d+k),e,b);if(\"SHA-384\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===b)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},q=function(a){return a.slice()},\"SHA-384\"===b)l=1024,h=384;else if(\"SHA-512\"===b)l=1024,h=512;else throw Error(\"Chosen SHA variant is not supported\");",
                  "else throw Error(\"Chosen SHA variant is not supported\");m=C(a,f);c=z(b);this.setHMACKey=function(a,d,g){var k;if(!0===y)throw Error(\"HMAC key already set\");if(!0===A)throw Error(\"Cannot set HMAC key after calling update\");f=(g||{}).encoding||\"UTF8\";d=C(d,f)(a);a=d.binLen;d=d.value;k=l>>>3;g=k/4-1;if(k<a/8){for(d=t(d,a,0,z(b));d.length<=g;)d.push(0);d[g]&=4294967040}else if(k>a/8){for(;d.length<=g;)d.push(0);d[g]&=4294967040}for(a=0;a<=g;a+=1)u[a]=d[a]^909522486,r[a]=d[a]^1549556828;c=p(u,c);e=l;y=",
                  "!0};this.update=function(a){var d,b,n,f=0,h=l>>>5;d=m(a,g,k);a=d.binLen;b=d.value;d=a>>>5;for(n=0;n<d;n+=h)f+l<=a&&(c=p(b.slice(n,n+h),c),f+=l);e+=f;g=b.slice(f>>>5);k=a%l;A=!0};this.getHash=function(a,d){var f,l,m,p;if(!0===y)throw Error(\"Cannot call getHash after setting HMAC key\");m=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,m)};break;case \"B64\":f=function(a){return F(a,h,m)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{l=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}p=t(g.slice(),k,e,q(c));for(l=1;l<v;l+=1)p=t(p,h,0,z(b));return f(p)};this.getHMAC=function(a,d){var f,m,u,v;if(!1===y)throw Error(\"Cannot call getHMAC without first setting HMAC key\");u=D(d);switch(a){case \"HEX\":f=function(a){return E(a,h,u)};break;case \"B64\":f=function(a){return F(a,h,u)};break;case \"BYTES\":f=function(a){return G(a,h)};break;case \"ARRAYBUFFER\":try{f=new ArrayBuffer(0)}catch(w){throw Error(\"ARRAYBUFFER not supported by this environment\");",
                  "}f=function(a){return H(a,h)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=t(g.slice(),k,e,q(c));v=p(r,z(b));v=t(m,h,l,v);return f(v)}}function b(b,a){this.a=b;this.b=a}function E(b,a,d){var e=\"\";a/=8;var g,k;for(g=0;g<a;g+=1)k=b[g>>>2]>>>8*(3+g%4*-1),e+=\"0123456789abcdef\".charAt(k>>>4&15)+\"0123456789abcdef\".charAt(k&15);return d.outputUpper?e.toUpperCase():e}function F(b,a,d){var e=\"\",g=a/8,k,f,c;for(k=0;k<g;k+=3)for(f=k+1<g?b[k+1>>>2]:0,c=k+2<g?b[k+2>>>2]:",
                  "0,c=(b[k>>>2]>>>8*(3+k%4*-1)&255)<<16|(f>>>8*(3+(k+1)%4*-1)&255)<<8|c>>>8*(3+(k+2)%4*-1)&255,f=0;4>f;f+=1)8*k+6*f<=a?e+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(c>>>6*(3-f)&63):e+=d.b64Pad;return e}function G(b,a){var d=\"\",e=a/8,g,c;for(g=0;g<e;g+=1)c=b[g>>>2]>>>8*(3+g%4*-1)&255,d+=String.fromCharCode(c);return d}function H(b,a){var d=a/8,e,g=new ArrayBuffer(d),c;c=new Uint8Array(g);for(e=0;e<d;e+=1)c[e]=b[e>>>2]>>>8*(3+e%4*-1)&255;return g}function D(b){var a={outputUpper:!1,",
                  "b64Pad:\"=\",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=b.b64Pad);if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function C(b,a){var d;switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");}switch(b){case \"HEX\":d=function(a,b,d){var f=a.length,c,n,h,l,",
                  "p;if(0!==f%2)throw Error(\"String of HEX type must be in byte increments\");b=b||[0];d=d||0;p=d>>>3;for(c=0;c<f;c+=2){n=parseInt(a.substr(c,2),16);if(isNaN(n))throw Error(\"String of HEX type contains invalid characters\");l=(c>>>1)+p;for(h=l>>>2;b.length<=h;)b.push(0);b[h]|=n<<8*(3+l%4*-1)}return{value:b,binLen:4*f+d}};break;case \"TEXT\":d=function(b,d,c){var f,n,m=0,h,l,p,t,q,r;d=d||[0];c=c||0;p=c>>>3;if(\"UTF8\"===a)for(r=3,h=0;h<b.length;h+=1)for(f=b.charCodeAt(h),n=[],128>f?n.push(f):2048>f?(n.push(192|",
                  "f>>>6),n.push(128|f&63)):55296>f||57344<=f?n.push(224|f>>>12,128|f>>>6&63,128|f&63):(h+=1,f=65536+((f&1023)<<10|b.charCodeAt(h)&1023),n.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),l=0;l<n.length;l+=1){q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=n[l]<<8*(r+q%4*-1);m+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(r=2,n=\"UTF16LE\"===a&&!0||\"UTF16LE\"!==a&&!1,h=0;h<b.length;h+=1){f=b.charCodeAt(h);!0===n&&(l=f&255,f=l<<8|f>>>8);q=m+p;for(t=q>>>2;d.length<=t;)d.push(0);d[t]|=f<<8*(r+q%4*-1);m+=",
                  "2}return{value:d,binLen:8*m+c}};break;case \"B64\":d=function(a,b,d){var c=0,n,m,h,l,p,t,q;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");m=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==m&&m<a.length)throw Error(\"Invalid '=' found in base-64 string\");b=b||[0];d=d||0;t=d>>>3;for(m=0;m<a.length;m+=4){p=a.substr(m,4);for(h=l=0;h<p.length;h+=1)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(p[h]),l|=n<<18-6*h;for(h=0;h<p.length-1;h+=",
                  "1){q=c+t;for(n=q>>>2;b.length<=n;)b.push(0);b[n]|=(l>>>16-8*h&255)<<8*(3+q%4*-1);c+=1}}return{value:b,binLen:8*c+d}};break;case \"BYTES\":d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;m=d>>>3;for(n=0;n<a.length;n+=1)c=a.charCodeAt(n),l=n+m,h=l>>>2,b.length<=h&&b.push(0),b[h]|=c<<8*(3+l%4*-1);return{value:b,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{d=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}d=function(a,b,d){var c,n,m,h,l;b=b||[0];d=d||0;n=",
                  "d>>>3;l=new Uint8Array(a);for(c=0;c<a.byteLength;c+=1)h=c+n,m=h>>>2,b.length<=m&&b.push(0),b[m]|=l[c]<<8*(3+h%4*-1);return{value:b,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return d}function r(c,a){var d=null,d=new b(c.a,c.b);return d=32>=a?new b(d.a>>>a|d.b<<32-a&4294967295,d.b>>>a|d.a<<32-a&4294967295):new b(d.b>>>a-32|d.a<<64-a&4294967295,d.a>>>a-32|d.b<<64-a&4294967295)}function I(c,a){var d=null;return d=32>=a?new b(c.a>>>a,c.b>>>",
                  "a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function L(c,a,d){return new b(c.a&a.a^~c.a&d.a,c.b&a.b^~c.b&d.b)}function M(c,a,d){return new b(c.a&a.a^c.a&d.a^a.a&d.a,c.b&a.b^c.b&d.b^a.b&d.b)}function N(c){var a=r(c,28),d=r(c,34);c=r(c,39);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function O(c){var a=r(c,14),d=r(c,18);c=r(c,41);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function P(c){var a=r(c,1),d=r(c,8);c=I(c,7);return new b(a.a^d.a^c.a,a.b^d.b^c.b)}function Q(c){var a=r(c,19),d=r(c,61);c=I(c,6);return new b(a.a^",
                  "d.a^c.a,a.b^d.b^c.b)}function R(c,a){var d,e,g;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+(a.b>>>16)+(d>>>16);g=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,g)}function S(c,a,d,e){var g,k,f;g=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);k=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g>>>16);f=(k&65535)<<16|g&65535;g=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(k>>>16);k=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g>>>",
                  "16);return new b((k&65535)<<16|g&65535,f)}function T(c,a,d,e,g){var k,f,r;k=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(g.b&65535);f=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(g.b>>>16)+(k>>>16);r=(f&65535)<<16|k&65535;k=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(g.a&65535)+(f>>>16);f=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(g.a>>>16)+(k>>>16);return new b((f&65535)<<16|k&65535,r)}function z(c){var a=[],d;if(0===c.lastIndexOf(\"SHA-\",0))switch(a=[3238371032,914150663,812702999,4144912697,",
                  "4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),new b(d[2],4271175723),new b(d[3],1595750129),",
                  "new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else throw Error(\"No SHA variants supported\");return a}function B(c,a,d){var e,g,k,f,r,m,h,l,p,t,q,y,u,x,v,A,z,B,C,D,E,F,w=[],G;if(\"SHA-384\"===d||\"SHA-512\"===d)t=80,y=2,F=b,u=R,x=S,v=T,A=P,z=Q,B=N,C=O,E=M,D=L,G=J;else throw Error(\"Unexpected error in SHA-2 implementation\");d=a[0];e=a[1];g=a[2];k=a[3];f=a[4];r=a[5];m=a[6];h=a[7];for(q=0;q<t;q+=1)16>q?(p=q*y,l=",
                  "c.length<=p?0:c[p],p=c.length<=p+1?0:c[p+1],w[q]=new F(l,p)):w[q]=x(z(w[q-2]),w[q-7],A(w[q-15]),w[q-16]),l=v(h,C(f),D(f,r,m),G[q],w[q]),p=u(B(d),E(d,e,g)),h=m,m=r,r=f,f=u(k,l),k=g,g=e,e=d,d=u(l,p);a[0]=u(d,a[0]);a[1]=u(e,a[1]);a[2]=u(g,a[2]);a[3]=u(k,a[3]);a[4]=u(f,a[4]);a[5]=u(r,a[5]);a[6]=u(m,a[6]);a[7]=u(h,a[7]);return a}var c,J;c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,",
                  "3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,",
                  "3329325298];J=[new b(c[0],3609767458),new b(c[1],602891725),new b(c[2],3964484399),new b(c[3],2173295548),new b(c[4],4081628472),new b(c[5],3053834265),new b(c[6],2937671579),new b(c[7],3664609560),new b(c[8],2734883394),new b(c[9],1164996542),new b(c[10],1323610764),new b(c[11],3590304994),new b(c[12],4068182383),new b(c[13],991336113),new b(c[14],633803317),new b(c[15],3479774868),new b(c[16],2666613458),new b(c[17],944711139),new b(c[18],2341262773),new b(c[19],2007800933),new b(c[20],1495990901),",
                  "new b(c[21],1856431235),new b(c[22],3175218132),new b(c[23],2198950837),new b(c[24],3999719339),new b(c[25],766784016),new b(c[26],2566594879),new b(c[27],3203337956),new b(c[28],1034457026),new b(c[29],2466948901),new b(c[30],3758326383),new b(c[31],168717936),new b(c[32],1188179964),new b(c[33],1546045734),new b(c[34],1522805485),new b(c[35],2643833823),new b(c[36],2343527390),new b(c[37],1014477480),new b(c[38],1206759142),new b(c[39],344077627),new b(c[40],1290863460),new b(c[41],3158454273),",
                  "new b(c[42],3505952657),new b(c[43],106217008),new b(c[44],3606008344),new b(c[45],1432725776),new b(c[46],1467031594),new b(c[47],851169720),new b(c[48],3100823752),new b(c[49],1363258195),new b(c[50],3750685593),new b(c[51],3785050280),new b(c[52],3318307427),new b(c[53],3812723403),new b(c[54],2003034995),new b(c[55],3602036899),new b(c[56],1575990012),new b(c[57],1125592928),new b(c[58],2716904306),new b(c[59],442776044),new b(c[60],593698344),new b(c[61],3733110249),new b(c[62],2999351573),new b(c[63],",
                  "3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)];\"function\"===typeof define&&define.amd?",
                  "define(function(){",
                  "    return x}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=x),exports=x):this.jsSHA=x})(this);",
                  "",
                  " function toHex(str) {",
                  "    var result = '';",
                  "    for (var i=0; i<str.length; i++) {",
                  "      result += str.charCodeAt(i).toString(16);",
                  "    }",
                  "    return result;",
                  "  }",
                  "var requestBody = JSON.parse(request.data);",
                  "var accountNumber = requestBody.accountNumber;",
                  "var transactionAmount = requestBody.transactionAmount;",
                  "var currencyCode = requestBody.currencyCode;",
                  "var transactionReference = requestBody.transactionReference;",
                  "var institutionCode = requestBody.institutionCode;",
                  "var channelCode = requestBody.channelCode;",
                  "var digestKey = \"3133242\";",
                  "",
                  "",
                  "var nonce = guid()",
                  "var data = nonce;",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"variable_key\", data);",
                  "",
                  "postman.setEnvironmentVariable(\"data\", data);",
                  "var shaObj = new jsSHA(\"SHA-512\", \"HEX\");",
                  "    shaObj.setHMACKey(toHex(digestKey), \"HEX\");",
                  "    shaObj.update(toHex(data));",
                  "    var signature = shaObj.getHMAC(\"HEX\");",
                  "",
                  "",
                  "",
                  "postman.setEnvironmentVariable(\"signature\", signature);",
                  "",
                  "postman.setEnvironmentVariable(\"nonce\", nonce);",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "40065242-d742-46bd-b8c6-7c8025515c81",
                "exec": [
                  "//var expect = require('chai').expect",
                  "",
                  "pm.test(\"Status code is 401\", function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test(\"responseCode: 00\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseCode).to.eql(\"63\");",
                  "});",
                  "",
                  "pm.test(\"Transaction successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.responseMessage).to.eql(\"Request failed security validation. Please check the data types sent match the documentation.\");",
                  "});",
                  "pm.test(\"Action: FAILURE\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.action).to.eql(\"FAILURE\");",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6a5d679e-f9c7-4864-9a90-93d176f7da25",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "nonce",
                "value": "kahkjsk",
                "type": "text"
              },
              {
                "key": "signature",
                "value": "{{signature}}",
                "type": "text"
              },
              {
                "key": "Algorithm",
                "value": "SHA_512",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[        {\n            \"active\": true,\n            \"tsChannelCode\": \"0093\",\n            \"middlewareChannelCode\": \"0093\"\n        }\n]",
              "options": {
                "raw": {}
              }
            },
            "url": "{{fidelity}}/configuration/codes/channel"
          },
          "response": []
        }
      ],
      "_postman_id": "2defca8f-1205-4941-a7ec-a5b5088e56f0"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "ad266019-5d56-4d15-a80f-4e306dadfa7b",
        "type": "text/javascript",
        "exec": [
          "//pm.request.headers.add({key: 'Content-Type', value: 'application/json'});",
          "",
          "pm.request.headers.add({key: 'Proxy-Authorization', value: 'Basic c3dpdGNoZXI6QWxwaGEuMDIl'});",
          "",
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "96de7fc9-4ee2-4254-9646-e40da5859801",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}